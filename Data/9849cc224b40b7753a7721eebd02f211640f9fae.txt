Evorus: A Crowd-powered Conversational Assistant
Built to Automate Itself Over Time
Ting-Hao(Kenneth)Huang,JosephCheeChang,andJeffreyP.Bigham
LanguageTechnologiesInstituteandHuman-ComputerInteractionInstitute
CarnegieMellonUniversity
{tinghaoh,josephcc,jbigham}@cs.cmu.edu
ABSTRACT
Crowd-poweredconversationalassistantshavebeenshownto
bemorerobustthanautomatedsystems,butdosoatthecost
ofhigherresponselatencyandmonetarycosts. Apromising
directionistocombinethetwoapproachesforhighquality,
lowlatency,andlowcostsolutions.Inthispaper,weintroduce
Evorus,acrowd-poweredconversationalassistantbuilttoauto-
mateitselfovertimeby(i)allowingnewchatbotstobeeasily
integratedtoautomatemorescenarios,(ii)reusingpriorcrowd
answers,and(iii)learningtoautomaticallyapproveresponse
candidates. Our 5-month-long deployment with 80 partici-
pantsand281conversationsshowsthatEvoruscanautomate
itselfwithoutcompromisingconversationquality. Crowd-AI
architectureshavelongbeenproposedasawaytoreducecost
andlatencyforcrowd-poweredsystems;Evorusdemonstrates
howautomationcanbeintroducedsuccessfullyinadeployed
system. Itsarchitectureallowsfutureresearcherstomakefur-
therinnovationontheunderlyingautomatedcomponentsin
thecontextofadeployedopendomaindialogsystem.
Figure1. Evorusisacrowd-poweredconversationalassistantthatau-
ACMClassificationKeywords tomatesitselfovertimeby(i)learningtoincluderesponsesfromchat-
H.5.m. Information Interfaces and Presentation (e.g. HCI): terbotsandtask-orienteddialogsystemsovertime,(ii)reusingpastre-
sponses,and(iii)graduallyreducingthecrowd’sroleinchoosinghigh-
Miscellaneous
qualityresponsesbypartiallyautomatingvoting.
AuthorKeywords
crowd-poweredsystem;crowdsourcing;real-time Crowd-poweredassistantsaremorerobusttodiversedomains,
crowdsourcing;conversationalassistant;chatbot and are able to engage users in rich, multi-turn conversa-
tion. Somesystemsuseprofessionalemployees,suchasFace-
INTRODUCTION bookM[15],whileothersusecrowdworkers,suchasCho-
Conversational assistants, such as Apple’s Siri, Amazon’s rus[25]. Despitetheiradvantages,crowd-poweredagentsre-
Echo, and Microsoft’s Cortana, are becoming increasingly mainlargelyimpracticalfordeploymentatlargescalebecause
popular,butarecurrentlylimitedtospecificspeechcommands oftheirmonetarycostandresponselatency[3,19]. Onthe
that have been coded for pre-determined domains. As a re- otherhand,crowd-poweredsystemsareoftentoutedasapath
sult, substantial effort has been placed on teaching people tofullyautomatedsystems,buttransitioningfromthecrowd
howtotalktotheseassistants,e.g.,viabookstoteachSiri’s toautomationhasbeenlimitedinpractice. Themoststraight-
language[36],andfrequentemailsfromAmazonadvertising forwardapproachistousedatafrompriorconversationsto
Alexa’snewskills[1]. Toaddresstheproblemofusersnot train an automated replacement. This can work in specific
knowingwhatscenariosaresupported,AI2recentlybuiltan domains[46],oronso-called“chit-chat”systems[2]. Fully
Alexaskilldesignedtohelppeoplefindskillstheycoulduse, automatingageneralconversationalassistantthiswaycanbe
onlytohaveitrejectedbyAmazon[8]. difficultbecauseofthewiderangeofdomainstocoverandthe
largeamountofdataneededwithineachtotrainautomated
replacements. Suchautomatedsystemsonlybecomeuseful
Permissiontomakedigitalorhardcopiesofallorpartofthisworkforpersonalor
classroomuseisgrantedwithoutfeeprovidedthatcopiesarenotmadeordistributed oncetheycancompletelytakeoverfromthecrowd-powered
forprofitorcommercialadvantageandthatcopiesbearthisnoticeandthefullcitation system. Suchabrupttransitionpointsmeansubstantialupfront
onthefirstpage. Copyrightsforcomponentsofthisworkownedbyothersthanthe
costsmustbepaidforcollectingtrainingexamplesbeforeany
author(s)mustbehonored.Abstractingwithcreditispermitted.Tocopyotherwise,or
republish,topostonserversortoredistributetolists,requirespriorspecificpermission automationcanbetestedinanonlinesystem.
and/orafee.RequestpermissionsfromPermissions@acm.org.
CHI2018,April21–26,2018,Montreal,QC,Canada Inthispaper,weexploreanalternativeapproachofacrowd-
©2018Copyrightisheldbytheowner/author(s).PublicationrightslicensedtoACM. poweredsystemarchitecturethatsupportsgradualautomation
ACM978-1-4503-5620-6/18/04...$15.00
https://doi.org/10.1145/3173574.3173869
8102
naJ
01
]CH.sc[
2v86620.1081:viXra
overtime. Inourapproach,thecrowdworkswithautomated timeby includingmoreresponses fromexistent chatbots
componentsastheycontinuetoimprove,andthearchitecture andreducetheoversightneededfromthecrowd;
provides narrowly scoped points where automation can be • LearningtoChooseChatbotsOverTime:weintroduced
introducedsuccessfully. Forinstance,insteadofwaitingun- alearningframeworkthatusescrowdvotesandpriorac-
tilanautomateddialogsystemisabletorespondcompletely ceptedmessagetoestimatethelikelihoodofeachchatbots
onitsown, onecomponentthatwedevelopedrecommends whenreceivingausermessage;
respondersfromalargesetofpossiblerespondersthatmight
• Automatic Voting: we implemented a machine learning
be relevant based on the on-going conversation. Those re-
modelforautomaticallyreducingtheamountofcrowdover-
sponsesarethenamongtheoptionsavailabletothecrowdto
sightneeded,evaluateditsperformanceonadatasetofreal
choose. Anothercomponentlearnstohelpselecthigh-quality
conversations,anddevelopedamathematicalframeworkto
responses.Eachproblemistightlyscoped,andthuspotentially
estimatetheexpectedrewardofusingthemodel;and
easierformachinelearningalgorithmstoautomate.
• Deployment: wedeployedEvorusforover5monthswith
ThispaperintroducesEvorus,acrowd-poweredconversational 80participantsand281conversationstounderstandhow
agentthatprovidesawell-scopedpathfromcrowd-powered theautomaticcomponentswedevelopedcouldgradually
robustnesstoautomatedspeedandfrugality. Userscancon- takeoverfromthecrowdinarealsetting.
verse with Evorus in open domains, and the responses are
chosenfromsuggestionsofferedbycrowdworkersandany
RELATEDWORK
numberofautomatedsystemsthathavebeenaddedtoEvorus.
Ourworkdrawsfromresearchonconversationalagents,gen-
Evorussupportsincreasedautomationovertimeinthreeways
eralpurposedialogsystemsandcrowd-machinesystems.
(Figure1): (i)allowingthird-partydeveloperstoeasilyinte-
grateautomatedchatterbotsortask-orienteddialogsystems GeneralPurposeDialogSystem: Anumberofgeneralpur-
toproposeresponsecandidates,(ii)reusingcrowd-generated pose dialog systems such as IRIS [2] have been proposed.
responsesfrompreviousconversationsasresponsecandidates, Wen et al. [43] designed a neural network language gen-
and(iii)learningtoautomaticallyselecthigh-qualityresponse eration model for multi-domain dialog systems. A deep-
candidatestoreducecrowdoversightovertime. learning-baseddomainadaptationmodelwasalsoproposed
recently[11]. ProjectDialPort[50]introducedamulti-agent
In Evorus, existing dialog systems can be incorporated via
framework that has the capability to include multiple task-
simpleREST(REpresentationalStateTransfer)interfacesthat
oriented dialog systems to hold a multiple domain conver-
takeinthecurrentconversationcontext,andrespondwitha
sation. On the other hand, in the field of natural language
responsecandidate.Overtime,Evoruslearnstoselectasubset
processing, general response generation technologies were
oftheautomatedcomponentsthataremostlikelytogenerate
alsodeveloped. Ritteretal.[35]generatedresponsesbasedon
high-qualityresponsesfordifferentcontext. Theresponsesare
phrase-basedstatisticalmachinetranslationbasedonTwitter
thenforwardedtocrowdworkersascandidates. Workersthen
data. Li et al. [26] introduced a response generator based
choosewhichoftheresponsestopresenttotheusers. Evorus
onspeakermodelthatencodespersonaswithbackgroundin-
seesworkersselectingresponsesfromcandidatesassignals
formationandspeakingstyle. Recently, researchersstarted
thatenableittolearntoselectbothautomatedcomponents
exploringend-to-endjointlearningoflanguageunderstanding
andresponsecandidatesinthefuture. Itisimportanttonote
in dialogue systems [6, 48, 27]. However, after decades of
thatwhileEvorusisafunctioninganddeployedsystem,we
developments,sophisticatedartificial“conversationalintelli-
donotseethecurrentversionanditsconstituentcomponents
gence”arelargelyabsentinmoderndigitalproducts.
tobefinal. Rather,itsarchitectureisdesignedtoallowfuture
researcherstoimproveonitsperformanceandtheextentto Crowd-powered Conversational Agents: Building fully-
whichitisautomated, byworkingonconstituentproblems, automated,open-domainconversationalassistantsisawidely
whichareeachchallengingintheirownright. Thestructureof researchedtopicinthefieldofartificialintelligence(AI),but
Evorusprovidesdistinctlearningpointsthatcanbebetteredby hasthusfarremainedanopenchallenge. Inresponsetothis,
otherresearchers. Othersmayincludeadditionaldialogsys- theChorus[25]conversationalagentispoweredbyacrowd
temsorchatterbots,andimproveuponitslearningcomponents, of human actors, which enables it to work robustly across
drivenbythecollecteddataanditsmodulararchitecture. domains[24]. Tohelpusersmanageinformationandservices
throughcrowd-poweredconversationalagents,Guardiantakes
WedeployedthecurrentversionofEvorusovertimetobetter
asinputaWebAPIandadesiredtaskfromtheuserandthe
understandhowwellitworks. Duringourdeployment,auto-
crowddeterminestheparametersnecessarytocompletethe
matedresponsewerechose12.44%oftime,Evorusreduced
task[20,18];IntructableCrowdhelpsusersautomatetheman-
thecrowdvotingby13.81%, andthecostofeachnon-user
agementofsensorsandtasksintheirmobilephonesthrough
messagereducedby32.76%. Inthispaper,weexplorewhen
aconversationalagent[16]; andWearMailenablesusersto
thesystemwasbestabletoautomateitself,andpresentclear
accesstheiremailsbytalkingtothecrowd-poweredassistant
opportunitiesforfutureresearchtoimproveontheseareas.
via smartwatch [39]. Conversational assistants powered by
Thispapermakesfourprimarycontributions: trainedhumanoperators,suchasFacebookM[15]andMagic
Assistant[29],haveemergedintherecentyears.
• EvorusArchitecture: acrowd-poweredconversationalas-
sistant that is designed to gradually automate itself over Whilemostcrowd-poweredconversationalsystemsfunction
wellinlaboratorysettings,Choruswasdeployedinthereal
world[19]andrevealedarangeofproblemssuchasdetermin- responsesturnedtolightgreen,andthedownvotedresponses
ingwhentoterminateaconversationorprotectingworkers turnedtogray. Crowdworkersautomaticallyupvotetheirown
from abusive content introduced by end users. Microsoft candidateswhenevertheyproposenewresponses. Uponcal-
Tey[45]introducedanAI-poweredagentwhichencountered culatingthevotingresults,weassignedanegativeweighttoa
problemswhendeployedpublicly,becausesomeusersreal- downvotewhileanupvotehaveapositiveweights. Weempiri-
ized that they could influence what Tey would say because callysettheupvoteweightat1anddownvote’sweightat0.5,
it mimicked them. Unlike Tey, Evorus does not learn only whichencouragesthesystemtosendmoreresponsestothe
bymimickingusers,andpaidcrowdworkersarekeptinthe user. Weinheritedthealready-workingvotingthresholdfrom
loop to verify responses in order to maintain quality. Our deployed Chorus [19], which accepts a response candidate
deploymentdidnotrevealsuchproblemsandwebelievethe whenitaccumulatesavoteweightthatislargerorequalto0.4
structureofEvorusmakessuchproblemslesslikely. timesnumberofactiveworkersinthisconversation. Namely,
Evorusacceptsaresponsecandidateandsendsittotheuser
Crowd-MachineHybridSystems: Crowdandmachinehy-
whenEquation(1)holds:
bridsystemshaveenabledustosolveawiderangeoftasks
that were difficult for machines or humans to solve alone, #upvote×W −#donwvote×W
upvote downvote
makingimpactsinareasincludingcrowdsourcing,machine (cid:62)#active_workers×threshold (1)
learning,databasesandcomputervision[10,21,37,34,22].
W =1.0, W =0.5, threshold=0.4
For instance, Flock and Alloy [7, 5] use crowds to suggest upvote downvote
predictivefeatures,labeldata,andweighthesefeatureswith Weformallydefinedthe#active_workersinthelatersubsec-
machinelearningtechniquestoproducecoherentcategories tionofreal-timerecruiting. Evorusdoesnotrejectamessage,
andaccuratemodels. TheKnowledgeAccelerator[12]uses soitdoesnothaveathresholdfornegativevoteweight.
crowdstosynthesizesuchcrowd-machinestructuresintoco-
herentarticles. Zensorscreatescustomcomputervisionsen- ExpiringUnselectedMessagestoRefreshContext
sorsbootstrappedbythecrowd[23].Similarly,CrowdDB[10] WhenEvorusacceptsaresponse,thesystemturnstheaccepted
uses human input for providing information that is missing message to a white background, and also expires all other
fromthedatabase, forperformingcomputationallydifficult responsecandidatesthathavenotbeenacceptedbyremoving
functions,andformatching,ranking,oraggregatingresults themfromthechatboxintheworkerinterface. Thisfeature
basedonfuzzycriteria. JellyBean[37]introducesasuiteof ensures all response candidates displayed on the interface
crowd-visionhybridcountingalgorithmsthatcanperformin wereproposedbasedonthelatestcontext. Wealsocreateda
independentorhybridmodesreturningmoreaccuratecounts “proposedchathistory”boxontheleftsideofworkerinterface,
thateitherworkersorcomputervisioncoulddoalone. whichautomaticallyrecordstheworker’slatestfiveresponses.
Workerscancopyhis/herpreviously-proposedresponseand
EVORUS’CONVERSATIONALASSISTANTFRAMEWORK senditagainifthemessageexpiredtoofast.
Evorusobtainsmultipleresponsesfrommultiplesources,in-
cludingcrowdworkersandchatbots,andusesavotingmecha- AProposed,Accepted,orExpiredMessage
nismtodecidewhichresponsestosendtotheend-user. InEvorus,non-usermessagesareinoneofthreestates: [Pro-
posed], [Accepted], or [Expired]. [Proposed] messages are
WorkerInterface
opentobeup/downvoted. Thesemessageswereproposedby
Evorus’workerinterfacecontainstwomajorparts(Figure2):
eitheraworkerorabot,hasnotyetreceivedsufficientvotes
thechatboxinthemiddleandthefactboardontheside. Chat
tobeaccepted,andhasnotyetexpired;[Accepted]messages
box’slayoutissimilartoanonlinechatroom. Crowdworkers
received sufficient votes before they expired and were sent
canseethemessagessentbytheuserandtheresponsescandi-
totheuser;and[Expired]messagesdidnotreceivesufficient
datesproposedbyworkersandbots. Therolelabeloneach
votesbeforetheyexpired. Thesemessageswerenotsentto
messageindicatesitwassentbytheuser(bluelabel,)aworker
the users, and were removed from the worker interface. A
(redlabel,)orabot(greenlabel.) Workerscanclickonthe
[Rejected]statedoesnotexistsinceEvorusdoesnotrejecta
checkmark((cid:52))toupvoteonthegoodresponses,clickonthe
messageproactively.
crossmark((cid:54))todownvoteonthebadresponses,ortypetext
toproposetheirownresponses. Besidethechatbox,workers
Worker’sRewardPointSystem
canusethefactboardtokeeptrackofimportantinformation
Toincentivizeworkers,Evorusgrantsrewardpointstowork-
ofthecurrentconversation. Toprovidecontext,chatlogsand
ersfortheirindividualactionssuchasupvotingonamessage
therecordedfactsfrompreviousconversationswiththesame
orproposingaresponsecandidate,andalsofortheircollective
userwerealsoshowntoworkers.
decisionssuchasagreeingonacceptingamessageorpropos-
Thescoreboardontheupperrightcornerdisplaysthecurrent ingamessagethatwereaccepted. Thescoreboxontheright
rewardpointstheworkerhaveearnedinthisconversation. If topcorneroftheinterfaceshowsthecurrentrewardpointsto
theconversationisover,theworkercanclickthelongbutton theworkerinreal-time. Rewardpointsarelaterconvertedto
onthetopoftheinterfacetoleaveandsubmitthistask. bonuspayforworkers. Withoutcompromisingoutputquality,
ifsomeofthesecrowdactionscanbesuccessfullyreplaced
SelectingResponsesusingUpvotesandDownvotes byautomatedalgorithms,thecostofeachconversationcan
Crowdworkersandbotscanupvoteordownvoteonaresponse bereduced. Evorus’rewardpointschemawasextendedfrom
candidate. AsshowninFigure2,ontheinterface,theupvoted theChorusrewardschema,whichwaspreviouslyusedduring
Figure2. TheEvorusworkerinterfaceallowsworkerstoproposeresponsesandup/downvotecandidateresponses. Theup/downvotesgiveEvorus
labelstousetotrainitsmachine-learningsystemtoautomaticallygaugethequalityofresponses. Evorusautomaticallyexpiresresponsecandidates
uponacceptanceofanotherinordertopreventworkersfromvotingthroughcandidateresponsesthataregoodbutnolongerrelevant. Workerscan
telleachmessageissentbytheend-user(bluelabel),aworker(redlabel),orachatbot(greenlabel)bythecoloredlabels.
itsyear-longdeployment[19]. Thisschemaencodestheim- votes.Tocoordinatewithhumanworkers’speed,Evorusoften
portanceofeachaction,andthusprovidesagoodguidefor needstosetconstraintsonthefrequencyorcapability(e.g.,
algorithmstoestimatethebenefitandriskwhenautomatinga inwhichconditioncanachatbotproposeresponses)ofbots.
crowdaction. Moreover,thisrewardschemawillbeusedto Moreimportantly,Evoruscanlearnfromthecrowdfeedback
estimatetheexpectedrewardpoints(andcorrespondingcosts) toautomateitselfovertimeviathreeprimarymechanisms: (i)
anautomaticvotingbotcansave,whichwedescribelater. thechatbotselector,(ii)theretrieval-basedchatbotthatcan
reuseoldresponses,and(iii)theautomaticvotingbot.
Real-timeRecruiting&ConnectingtoGoogleHangouts
Whenaconversationstarts,EvorususestheIgnitionmodel PartI:LearningtoChooseChatbotsOverTime
[17]torecruitworkersquicklyandeconomicallyfromAma- InEvorus,existingdialogsystemsorchatbotscanbeincor-
zonMechanicalTurk,andusestheHangoutsbot[14]library poratedbydefiningasimpleRESTinterfaceontopofthem
toconnectwiththeGoogleHangoutserverssothatuserscan thatacceptsinformationaboutthecurrentconversationstate,
use its clients to talk with Evorus on computers or mobile andresponseswithasuggestedresponse. Whenasufficient
devices. Eachconversationstartswith1workerandincorpo- amount of chatbots are included in the bot pool, selecting
rates5workersatmost. Workersmayreachaconversationat themostappropriatechatbotstoanswerdifferentquestions
differenttimes,buttypicallystaytotheendoftheconversa- becomescritical. Forinstance,asimple“ping-pong”chatbot
tion(averageduration(cid:39)10minutes). The#active_workers that always responds with what it was told can be selected
in Equation 1 is defined as “the number of crowd workers to reply echo questions such as “Hi” or “How are you?”; a
whowereworkingonthisconversationwhenthemessagewas restaurantrecommendationbotcanbeselectedwhentheuser
proposed,”whichvariesasworkersarrive(ordropout)atdif- islookingforfood;andachatbotthatwasbuiltonafriend’s
ferenttimes. Inourdeployment,theaverage#active_workers chatlogcanbeselectedwhentheuserfeelslonely[31]. In
ofallcrowdmessagesis3.56(SD=1.29,)and77.56%ofthe thispaper,weintroducealearningframeworkthatusescrowd
crowdmessageshad#active_workers>=3. votesandprioracceptedmessagestoestimatethelikelihood
ofeachchatbotwhenreceivingausermessage. Thelearning
EVORUS’AUTOMATIONANDLEARNINGFRAMEWORK framework naturally assigns a slightly higher likelihood to
Evorusisaconversationalassistantthatiscollaborativelyrun newly-addedchatbotstocollectmoredata. Thebeautyofthis
by real-time crowdsourcing and artificial intelligence. The design is that any chatbot can contribute, as long as it can
coreconceptofEvorusistohavecrowdworkersworkwithau- effectivelyrespondto–evenasmall–setofusermessages.
tomatedvirtualagents(referredtoas“bots”)ontheflytohold
sophisticatedconversationswithusers. Totestthis,wedevel- PartII:ReusingPriorAnswers
opedtwotypesofbots:theautomaticresponsegenerators,i.e., Upon receiving a message from the user, Evorus uses a
chatbots,andtheautomaticvotingalgorithms,i.e.,votebots. retrieval-based approach to find the most similar message
Evorusmonitoredallongoingconversations,andperiodically inpriorconversationsandpopulatesitspriorresponseforthe
calledchatbotsandvotebotstoparticipateinactiveconver- crowdtochoosefrom. Bydoingso,Evorusiscapabletoreuse
sations. Bothchatbotsandvotebotstaketheentirechatlog theanswerofpriorsimilarquestionstorespondtousers. The
asinput,andbasedonthechatlogtogenerateresponsesor advantageofusingaretrieval-basedmethodisthatitnaturally
increasesitscapabilityofansweringquestionswiththegrowth model using previous messages to estimate P(message|bot)
ofthecollectedconversations,withouttheneedofrecreation is intuitive [13], sufficient data for building such model is
orretrainingofmachine-learningmodels. Withtheoversight often unavailable for newly-added bots. To generalize, we
ofthecrowd,theretrieval-basedapproachesalsodonotneed used a similarity measure based on distance between word
tobeperfecttocontribute. Aslongasitfindgoodresponses vectors(similarity(message, history ))toapproximatethis
bot
to a portion of user conversations, the learning framework likelihood. Wewillexplainhowwecalculatethesetwocom-
describedinPartIcangraduallylearnwhentouseit. ponentsinthefollowingsubsection.
Equipped with the estimates, Evorus ranks all the chatbots
PartIII:AutomaticVoting
based on the likelihood values, and always calls the first-
Closingtheloopofautomatingtheentiresystem,thelastpiece
rankingchatbottoprovideitsresponse. Moreinterestingly,
istoautomatetheoversightofthecrowdthatarenecessary
inadditiontothetopchatbot,Evorusalsorandomlyselects
for quality control, i.e., the voting process in Evorus. We
alower-rankingchatbottoprovideresponses. Bydoingso,
formulatedresponsevotingasaclassificationtaskandtackled
Evorus is capable to gradually update its estimates of each
it with a supervised machine-learning approach. A set of
botbasedonthecrowdfeedbackandlearnovertimethebest
featuresbasedonliterature,includingtheword,thespeaker,
scenariotocalleachchatbot. Similarstrategies,suchasthe
andthetimeoftheproposedmessagesareusedtodevelopa
epsilon-greedystrategythatyieldsasmallportionofproba-
machine-learningmodel,andthepriorcollectedcrowdvotes
bilityforrandomoutcomesandcollectsfeedback,havebeen
areusedasgold-standardlabels. Whiletheoverallclassifier
used in models that learn to select crowd workers [40] and
performanceisefficientinthedataset,amisfiredvote(afalse-
dialogueactions[38]. Forthenewchatbot,Evorusinitially
positive)thatmistakenlyacceptsalow-qualityresponsewill
assignsastartingprobabilitytoittoallowthesystemtocollect
notonlydisturbtheconversation,butalsowasteextrabonus
dataaboutit,whichwedescribeinthefollowingsubsection.
moneytocrowdworkerswhoproposedandvotedforit. In
thispaperweproposeamathematicalframeworktoestimate
EstimatingLikelihoodofaChatbot
expectedbenefitsofusinganautomaticvotingclassifier.
Weaimedatdesigningalearningframeworkthatis(i)inex-
InEvorus,bothworkersandthevotebotcanupvotesuggested pensive to update, since we want the model to be updated
responses. Whenanewsuggestionisoffered,thevotebotis everysingletimewhenthesystemreceivesanewlabel,and
called. Itfirstcalculatesitsconfidencescore,and,ifthecon- (ii)allowsnewbotstobeaddedeasily.
fidenceisgreaterthanathreshold,whichisestimatedbyour
Prior Probability of Chatbots: To generate more reliable
proposedmathematicalframework,thevotebotautomatically
priorestimationfornewly-addedbotswithlimitedhistories,
upvotesthemessage.Evorusmonitorsthelatestdown/upvotes
weusedabetadistributionwithtwoshapeparametersα and
and calculates voting results in real-time. When a crowd
β (Equation3)tomodelthepriorprobabilityofeachchatbot.
messagecollectssufficientvoteweight,Evorus(i)acceptsit
andsendsittotheuser,and(ii)removesallothercandidate (#acceptedmessagesfrombot)+α
P(bot)≈ (3)
messagesfromtheworkerinterfacetorefreshcontext. (#usermessagessincebotonline)+α+β
Inthefollowingthreesections,wedescribeindetailthethree P(bot) can be interpreted as the overall acceptance rate of
mainpartsoftheEvorusframework. thechatbotwithoutconversationcontexts. Thetwoshaping
parametersα andβ canbeviewedasthenumberofaccepted
PARTI:LEARNINGTOCHOOSECHATBOTSOVERTIME (positive)andnot-accepted(negative)messagesthatwillbeas-
Evorus’ chatbot selector learns over time from the crowd’s signedtoeachnewchatbottobeginwith,respectively.Namely,
feedbacktochoosetherightchatbotstorespondtousermes- anynewchatbot’spriorprobabilityP(bot)willbeinitiallyas-
sages. Evorusalsoregularlypopulateslower-rankingchat- signedasα/(α+β),andthenlaterbeupdatedovertime.The
bots to allow the model to learn about new chatbots and tp betadistribution’sα andβ arebothfunctionsofthemean(µ)
keepthemodelup-to-date. and variance (σ2) of the distribution. In our pilot study, in
whicheachautomaticresponserequiresonlyonevotetobe
RankingandSamplingChatbots accepted,fourchatterbotshadanaveragemessageacceptance
Uponreceivingamessagefromauser,Evorususesboththe rate of 0.407 (SD=0.028.) Since we increased the required
textandpriorcollecteddatatoestimatehowlikelyeachchat- vote count from 1 to 2 in the final deployment, a lower ac-
botiscapableofrespondingtheuser(i.e., P(bot|message)). ceptancerateisexpected. Weusedµ =0.3andσ =0.05to
Weusedaconditionalprobability,asshowninEquation2,to estimatetheshapeparameters,whereα =24.9andβ =58.1.
characterizethelikelihoodofselectingachatbot(bot)after
Similarity between Messages and Chatbots: To estimate
receivingausermessage.
similarity(message, bot), we first used the pre-trained 200-
P(bot|message)=P(bot)×P(message|bot) dimension GloVe word vector representation trained on
(2) WikipediaandGigaword[32]tocalculatetheaverageword
≈P(bot)×similarity(message, history )
bot
vectorofeachmessage. Wethenusedprevioususermessages
P(bot) is the prior probability of the chatbot, and thatweresuccessfullyrespondedbythechatbotasthebotvec-
P(message|bot)isthelikelihoodoftheusermessagegiventhe tor(cid:126)w thatrepresentsthechatbotintheword-vectorspace.
bot
chatbot’shistory(i.e.,previoususermessagesthatthebothas Wealsocalculatedthecentroidvectorofallusermessages,
successfullyresponded). Whiletrainingann-gramlanguage (cid:126)w ,torepresentgeneralusermessages. Finally,asshown
overall
inEquation4,thesimilaritybetweenamessageandachatbot PARTIII:AUTOMATICVOTING
isdefinedasthedistanceratiobetweenthevectors. Evorususessupervisedlearningtovoteonresponses.
similarity(message, history bot) DataPreparation: Thevotingmechanismhasbeenproven
dist((cid:126)w ,(cid:126)w ) (4) tobeusefulinselectinggoodresponsesandholdingconver-
(cid:66) message overall
sations in the lab prototype [25] and deployed system [19].
dist((cid:126)w ,(cid:126)w )+dist((cid:126)w ,(cid:126)w )
message bot message overall
Thefinalstatus(i.e.,acceptedornot)ofamessagesisastrong
While(cid:126)w bot canbecalculatedasthecentroidvectorofprior signaltoindicateitsquality. However,whenweusedthisdata
usermessagesthatweresuccessfullyrespondedtobythechat- todevelopanAI-poweredautomatedvotingalgorithm,itis
bot,incold-startscenarios,achatbotwillnothavesufficient noteworthythatexpiredmessageswerenotalloflowerquality.
acceptedmessagestocalculatethevector. Weprovidetwoso- Insomecasestheproposedresponsewasgoodandfittedinthe
lutionsforchatbotdevelopers:First,thedevelopercanprovide oldcontextwell,butthecontextchangedshortlyafterthemes-
asmallsetofexamplemessageswheretheirchatbotsshould sagewassent;Somemessageswereautomaticallyaccepted
becalled. Forinstance,thedeveloperofanYelpchatbotcan andbypassedthevotingprocessbecauseEvorusdoesnothave
list“FindmeasushirestaurantinSeattle!” asanexample. enoughactiveworkers,i.e.,when0.4×#active_workers<1
Evorus will treat these example messages as the user mes- inEquation1);Furthermore,sincedownvotescancancelout
sagesthatthechatbotsuccessfullyrespondedto,andusetheir upvotes,thevotingresultsinEvoruscouldbeinfluencedby
centroidvectorastheinitial(cid:126)w bot. Whenmoremessagesare raceconditionsamongworkers. Forinstance,whentwoup-
accepted,theywillbeaddedintothissetandupdatethevector. votesofamessagehasbeensenttotheserver,Evorusmight
Second,forsomechatbots,especiallynon-taskchatterbots,it decidethatthismessage’voteweightissufficientandsentit
couldbedifficulttoprovideasetofexamples. Therefore,if totheuser,inwhichabelateddownvotewoulddeductitsvote
thedeveloperdecidednottoprovideanyexamplemessages, weight to lower than the threshold. Therefore, the training
wesettheinitialdist((cid:126)w message,(cid:126)w bot)=0fornewchatbots. dataneedstobecarefullydeveloped.
Similar to Part II, we used voting data collected during the
PARTII:REUSINGPRIORRESPONSES
Chorusdeployment[19]totraintheinitialmachinelearning
Evorususesaninformation-retrieval-based(IR-based)method
model for voting. We first extracted the expired messages
to find answers to similar queries in prior conversations to
withoneormoredownvote(s)asexamplesof“downvote”,and
suggestasresponsestonewqueries. Todoso, Evorusfirst
extractedtheacceptedcrowdmessageswithbothoneormore
extractsquery-responsepairsfromalltheoldconversations,
upvote(s) and zero downvote as examples of “upvote.” We
andthenperformsasimilarity-basedsortingoverthesepairs.
excludedtheautomatically-acceptedmessagesthatweresent
ExtractingQuery-ResponsePairs: OneadvantageEvorus whenthetaskdidnothavesufficientnumberofactiveworkers
hasisthateachacceptedresponsehascrowdvotes,whichcan (0.4×#active_workers<1)Fromallthemessagescollected
beusedasadirectindicatoroftheresponse’squality. Foreach by the deployed Chorus during September 2016 to March
turnofaconversationbetweenoneuserandEvorus,weex- 2017, 1,682 “upvote” messages 674 “downvote” messages
tractedtheacceptedcrowdresponsewhichdidnotreceiveany wereextractedtofromthedataset.
downvotes,alongwiththeusermessage(query)itresponded
Model&Performance: Wethenusedthisdatasettotraina
to,asa(query,response)pair. SincethedeployedEvorushas
LibLinear[9]classifier. Foreachmessage,Evorusextracted
not had any prior conversation with users yet, we obtained
featuresinmessage,turn,andconversationlevelstocapture
conversation data that were collected by the deployed Cho-
thedialogiccharacteristics[33], andalsousedGloVeword
rus,whichalsousedcrowdvotingtoselectresponses,during
vector,whichisidenticalasthatofourretrieval-basedresponse
May,2016toMarch,2017tostartwith. Wefurtherremoved
generation,torepresentthecontent. Ourapproachreachedto
themessagesfromknownmaliciousworkersandusers,also
aprecisionof0.740andarecallof0.982(F1-score=0.844)
removedallconversationswheretheusersareco-authorsor
onthe“upvote”classina10-foldcross-validationexperiment.
collaboratorsofChorus[19]. AtthebeginningoftheEvorus
ThefeatureanalysisusingtheWekatoolkit[47]showedthat
deployment,3,814usermessageswereincluded,andeachof
the top 3 features were about the historical performance of
theseusermessageispairedwith1to5crowdresponses.
the worker who proposed the message, and also 13 out of
SearchingfortheMostSimilarQuery: Forthequerymes- 20topfeatureswereofaparticulardimensionofoneofthe
sage in each query-response pair, we calculated its average word vectors. On the other hand, the performance of the
word vector by using the pre-trained 200-dimension GloVe “downvote”classislesseffective. Itsprecisionis0.714but
word vector representation based on Wikipedia and Giga- recallisonly0.134. Thiscouldbecausedbytheinsufficient
word[32]andstoresthevectorinthedatabase. WhenEvorus amountoftrainingdata,sinceChoruspromotedupvotemore
receivesausermessage,thesystemfirstcalculatesitsaverage than downvote by design. According to this result, in the
wordvector(cid:126)w messageusingthesameGloVerepresentation,and deployedEvorus,thesystemonlyautomaticallyupvotedwhen
thensearchesinthedatabasetolookforthetopkresponses theclassifierouput“upvote,”butdidnotdownvoteotherwise.
thattheircorrespondingqueries’wordvectorshadtheshort-
estEuclideandistanceswith(cid:126)w . Finally,forincreasing OptimizingAutomaticVoting
message
answer’sdiversity,thesystemrandomlyselectsonefromtop Automatic voting directly participates in the process of de-
k responsestosendbacktoEvorusforthecrowdtochoose cidingwhichmessagestosend. Whileourmachine-learning
from. Weempiricallysetk=2inourdeployment. modelresultedingoodperformanceonourdataset,wewould
upvotedmessageissent([Misfire]). Therefore,E[Bad]isde-
cidedby(i)howoftenonemistakenupvotetriggersamisfire,
and(ii)howexpensiveisonemisfire,asfollows:
E[Bad]=P(Misfire|Bad)×E[R ]
Misfire
P(Misfire|Bad) is the conditional probability of a message
beingsenttotheusergiventheclassifierhasmistakenlyup-
votedonit. E[R ]istheexpectedrewardpointsthatwere
Misfire
grantedtoworkersinasingle[Misfire]event.
Figure3. (A)Theprecision-recallcurveoftheLibLinearclassifierfor Ourtrainingdatasetonlyusedthenot-acceptedmessageswith
automaticupvoting. (B)Usingourmodel(Equation(5))toestimatethe atleastonedownvotetoformthe“Downvote”class,which
precisionandrecallatdifferentthresholdsandtheircorrespondingex- werelesslikelytobemisfiredafteraddingoneextraautomatic
pectedrewardamountsaved.
vote. For better estimating P(Misfire|Bad), we first ran the
classifieronallmessagesthatwerenotincludedinourtraining
like to use Evorus’ worker reward point schema to find the set,andwithinallthemessagesthattheclassifierdecidedto
rightconfidencethresholdfortheautomaticvotingclassifier. upvote, we then calculated the proportion of messages that
If the threshold is set too low, the classifier would vote fre- wouldbesenttotheuserifoneextraupvotewereadded. The
quently even when it is not confident about the prediction, ratewas0.692,whichweusedtoapproximateP(Misfire|Bad).
andthusmanylow-qualityresponseswouldbeacceptedand Furthermore,basedonEvorus’mechanism,E[R ]canbe
Misfire
disturbtheconversation;ifthethresholdissettoohigh,the calculatedasfollows:
classifierwouldrarelyvote,andthesystemwillnotgainmuch
E[R ]=R ×E[#upvoted_workers]+R
fromusingit. Liblinearcanoutputtheprobabilityestimates Misfire agreement proposal
ofeachclasswhenperformingprediction,whichweusedas E[#upvoted_workers]istheexpectednumberofhumanwork-
the notion of confidence of the classifier. Thresholding out erswhoupvotedonthemessageinan[Misfire]event. Sim-
thepredictionswithlowerconfidencesincreasedtheprecision ilarly, we ran the classifier on the unlabelled data, and cal-
butreducedtherecalloftheclassifier. Figure3(A)showsthe culatedtheaveragenumberofworkerswhoupvotedonthe
Precision-RecallcurveofEvorus’upvotingclassifier. messagesthattheclassifierdecidedtoupvoteon. Thenum-
ber is 0.569 (SD = 0.731), which we used to approximate
Possible Outcomes When the Classifier Upvotes: To find
E[#upvoted_workers].
confidencethresholdsforEvorus,weintroducedthefollowing
heuristics to estimate reward points saved per message by Finally, E[Hit]=100+500=600, and E[R ]=0.692×
Bad
usingtheupvotingclassifier. Considerthefollowingcases: (500×0.569+1000)=888.874. UsingEquation(5),wecan
estimatetheprecisionandrecallatdifferentthresholdsand
1. [Good Vote] The classifier upvoted on a message that
theircorrespondingrewardamount(Figure3(B)).According
wouldoriginallybeselectedbythecrowd. Itsaves1upvote
totheestimation,thebestconfidencethresholdisat0.65. In
reward(R ×1)and1agreementreward(R ×1)
upvote agreement
thedeployedEvorusweselectedaslightlyhigherprecision
thatwouldoriginallybegrantedtoonehumanworker.
andsetthethresholdat0.7(P=0.823andR=0.745.)
2. [BadVote]Theclassifierupvotedonamessagethatwould
originallynot beselectedbythecrowd. Inthiscase,one DEPLOYMENTSTUDYANDRESULTS
ofthetwofollowingconsequenceswilloccur: (i)[Misfire] EvoruswaslaunchedtothepublicasaGoogleHangoutschat-
Themessageissenttotheuser. Thesystemgrantsagree- botinMarch2017. Whiletheend-userswerenotawareofthe
ment rewards to all human workers who upvoted on this changesofthesystemfromtheclientside,behindthescenes,
message(R ×#upvoted_workers)and1successful ourdeploymenthad3phases: (i)Phase1,(ii)ControlPhase,
agreement
proposalrewardtotheworkerwhoproposedthemessage and(iii)Phase2. Phase-1deploymentstartedinMarch,2017.
(R ×1); and(ii): [NoDifference]Themessagere- Welaunchedthesystemwithonlyfourchatterbotsandone
proposal
mainsnotsent. Evenwithoneextraupvote,thismessage’s votebot,withoutthelearningcomponentdescribedinPartI,
votecountwasstillinsufficienttogetaccepted. tounderstandthebasicsofhavingvirtualbotsworkingwith
humanworkersonthefly. Forcomparison,inMay2017we
Estimating System’s Expected Gain: Given these setups,
thentemporarilyturnedoffallautomationcomponentsand
the expected reward points E[R ] saved per message by
save hadthesystemsolelyrunbythecrowdtilllateAugust2017,
usingtheclassifiercanbeestimatedasfollows:
whichwereferredtoastheControlPhase. Finally,fortesting
E[R ]=TPR×E[Good]−FPR×E[Bad] (5) thecapabilityoflearningtoselectchatbots,westartedPhase
save
2deploymentinearlySeptember. ThePhase-2deployment
TPRisthetruepositiverateandFPRisthefalsepositive included several significant changes: (i) increasing the fre-
rateoftheclassifier. E[Good]istheexpectedrewardpoints quencyofcallingchatbotsforresponses, (ii)increasingthe
savedper[GoodVote]event,andE[Bad]istheexpectedre- votecountneededtoacceptaresponsefrom1to2,and(iii)
wardpointswastedper[BadVote]event. incorporatingthePartIlearning.
InEvorus,E[Good]isaconstant(R +R ). Mean- Torecruitusers,weperiodicallysentemailstomailinglists
upvote agreement
while, [Bad Vote] event costs reward points only when the atseveraluniversitiesandpostedonsocialmediasites,such
asFacebookandTwitter. Participantswhovolunteeredtouse
our system were asked to sign a consent form first, and no
compensationwasoffered. Aftertheparticipantssubmitted
theconsentform,aconfirmationemailwasautomaticallysent
tothemtoinstructthemhowtosendmessagestoEvorusvia
GoogleHangouts. TheuserscanuseEvorusasmanytimesas
theywantto,foranything,viaanydevicesthatareavailable
to them. Eighty users total talked with Evorus during 281 Figure4. Phase-1Deployment: (A)Averagenumberofacceptedmes-
conversations. ThePhase-1deploymenthad34userstalked sages per conversation. Automated responses were chosen 12.44% of
toEvorusduring113conversations,andPhase-2deployment thetime.(B)Averagenumberofupvotesperacceptednon-usermessage.
Humanupvoteswerereducedby13.81%byusingautomaticvoting.
(till17thSeptember,2017)had26userswith39conversations.
TheControlPhasehad42userswith129conversations. (SD = 11.39). In terms of upvotes, each accepted non-user
messagereceived1.06humanupvotes(SD=0.73)and0.11
Phase1: Chatterbots&Votebot automaticupvotes(SD=0.18)Incomparison,intheControl
OurPhase-1deploymentexploredhowchatbotsandourvote Phase,eachacceptednon-usermessagereceived1.23human
botcouldworktogethersynchronouslywithcrowdworkers. upvotes (SD = 0.70.) Crowd voting was thus reduced by
Weimplementedfourchatterbots(includingtheIR-basedchat- 13.81%. ThecomparisonisshowninFigure4(B).Moreover,
terbotusingChorusconversationdatadescribedinPartII)and anacceptednon-usermessagesentbyEvoruscosted$0.142in
avotebot. DuringthePhase-1deployment,thesystemonly Phase-1deploymentonaverage,whileitcosted$0.211during
randomlyselectsoneoffourchatterbotstorespondeveryhalf theControlPhase. Namely,withautomatedchatbotsandthe
aminute,wherethelearningcomponentdescribedinPartI votebot,thecostofeachmessageisreducedby32.76%.
willbelaterincludedinPhase-2deployment.
Wealsocalculatedtheacceptancerateofmessagesproposed
Implementing Four Chatterbots: In our Phase-1 deploy- byeachchatbot. TheFillerBot,whichignorescontextand
ment,weimplementedthefollowingfourchatterbots. proposesresponsesrandomly,hadthehighestacceptancerate,
41.67%. TheChorusBot’sacceptanceratewas30.99%,that
1. ChorusBot(shownasPartII):Achatterbotthatispow-
oftheInterviewBotwas33.33%,andthatoftheCleverbot
ered by a retrieval-based method to reuse prior conversa-
was 30.99%. This might be because Filler Bot’s common-
tionstorespondtousers,whichwasdescribedinPartII.
placeresponses(e.g.,“Idon’tknow”)wereoftenconsidered
2. FillerBot:Achatterbotthatrandomlyselectsoneresponse
acceptablebyhumanraters. InPhase2,whereanautomatic
fromasetofcandidates,regardlessofcontext.Wemanually
response needed 2 human votes to go through, the Chorus
selected 13 common “conversation filler” in the Chorus
Bothadthehighestacceptancerateamongallfourchatterbots
dataset(e.g.,“IsthereanythingelseIcanhelpyouwith?”,
(Figure6). Whilehumanworkers,whoseacceptanceratewas
or“Thanks”)toformthecandidatepool.
72.04%duringPhase1,stilloutperformedallchatbotsbya
3. Interview Bot: A chatterbot that uses a retrieval-based largemargin,chatbotswithlowaccuracycanstillcontributeto
method,whichisidenticaltoChorusBot,tofindthebest theconversation. Forinstance,theFillerBot,whilebeingvery
responsefrom27,894query-responsepairsextractedfrom simpleandignoringanycontext,nevertheless,oftenproduces
767transcriptsofTVcelebrityinterview[30]. reasonableresponses:
4. Cleverbot: Cleverbotisathird-partyAI-poweredchatbot
[The user asked information about the wildfire and smoke in
which reuses more than 200 million conversations it had
Emoryuniversitycampus.]
withuserstogenerateresponses[44,4]. user Doyouknowwheretheyarehappeningexactly?(ThewildfiresI
mean)
Vote Bot Setup: Currrently, The vote bot only votes on
bot Canyouprovidesomemoredetails?
human-proposed messages, but not messages proposed by
chatbots. InPhase1,Evorusrequireseachautomaticvoteto Compared with Filler Bot, Chorus Bot better targets its re-
haveatleastoneextrahumanupvotetobeaccepted. Votebots sponsesbecauseitchoosesmessagesbasedonsimilaritywith
alsoskippedmessagesifthesameworkerproposedidentical previoushumanresponses:
content earlier in the conversation but did not get accepted.
user Hey howmanypeoplelikebubbleteahere?
Webelievethatworker’sre-sendingisastrongsignalofthe bot Askfortheirfeedbackwhenyoutalkwiththem
poorqualityofthemessage. Votebotscandecidenottovote
Conversation Quality: We sampled conversations with ac-
iftheconfidenceistoolow(PartIII.)
ceptedautomaticresponsesandamatchingsetwithoutauto-
AutomatingHumanLabors: DuringPhase-1deployment,a matedcontributions. Foreach,8MTurkworkersrated[Satis-
conversation on average contained 9.90 user messages (SD faction,Clarity,Responsiveness,Comfort],whichwasbased
= 11.69), 13.6 accepted messages proposed by the crowd onthePARADISE’sobjectivesforevaluatingdialogueper-
workers(SD=10.44),and13.58acceptedmessagesproposed formance[42]andtheQualityofCommunicationExperience
byautomaticchatterbots(SD=2.81). Thus,automatedre- metric[28],ona5-pointLikertscale(5isbest.) Theoriginal
sponseswerechosen12.44%ofthetime. Asacomparison conversations (N=46) had an average rating of [3.47, 4.04,
(Figure 4(A)), in the Control Phase (42 users and 129 con- 3.88,3.56],whilethosewithautomaticresponses(N=54)had
versations), a conversation on average contained 8.73 user [3.57,3.74,3.52,3.66]. Thesimilarresultssuggestthatthe
messages(SD=10.05)and12.98acceptedcrowdmessages automaticcomponentsdidnotmakeconversationsworse.
Figure5. (A)AnactualconversationofEvorus. ConversationsinEvorustendtocombinemultiplechatbotsandworkerstogether. (B)Userquestion-
naireusedinPhase-2deployment.Theaverageusersatisfactionratingofautomatedandnon-automatedconversationshadnosignificantdifference.
Phase2: LearningtoSelectChatbots ImplementingTwoUtilityBots: Inadditiontothefourchat-
OurPhase-2deploymentexploredhowthelearningcompo- terbotsinthePhase-1deployment,weimplementedthefol-
nent,describedinPartI,canselecttherightchatbotsincontext, lowingtwotask-orientedutilitybots:
andhowintegratingadditionalchatbotsaffectsperformance.
1. YelpBot: Achatbotthatsuggestsrestaurantsneartheloca-
Weimplementedtwoadditionalutilitybots,aYelpBotand
tionmentionedbytheuserpoweredbytheYelpAPI[49].If
a Weather Bot, that can perform information inquiry tasks
theuserdidnotmentionanylocation,itreplieswith“You’re
fordifferentcontexts,inadditiontothefourchatterbotsand
lookingforarestaurant. Whatcityareyouin?”.
one vote bot from Phase 1. We first launched the learning
system with four chatterbots for two days, and then added 2. WeatherBot: Achatbotthatreportsthecurrentweather
the two utility bots for observing the changes of the model. ofamentionedcitypoweredbytheWeatherUnderground
Furthermore, in order to directly compare user satisfaction API [41]. If the user did not mention any city names, it
levels,alltheautomatedcomponents(includingthechatbots, replies,“Whichcity’sweatherwouldyouliketoknow?”
thevotebot,andthelearningcomponent)wereonlyapplied
Thechatbots’developer(thefirstauthor)alsoprovidedthree
to50%oftheconversationsrandomly,andtheotherhalfof
examplechatmessagesforeachthatshouldtriggerthecorre-
theconversationsweresolelyrunbythecrowdasabaseline.
spondingchatbot,toinitiatethelearningprocess.Forexample,
Toefficientlycollectcrowdfeedbackstoupdateourmodel,we “AnyrestaurantrecommendationsinNYC?”fortheYelpBot.
increasedthefrequencyEvoruscalledchatbotsfromrandomly
SimilarUserSatisfactionLevel:InPhase2weimplemented
callingonechatbotandonevotebotevery30seconds(Phase
anexitsurveytomeasureendusersatisfaction(Figure5(B)).
1)tocallingtwochatbots(top-1rankedplusrandom)andone
Attheendofeachconversation,theuserhad10minutestore-
votebotevery10seconds(Phase2.) Tocompensateforthe
porttheirsatisfactionusingaLikert-scalerangingfrom1(Very
possibledropinqualitycausedbyhighercallingfrequency
Dissatisfied) to 5 (Very Satisfied). 13 of 30 users provided
andrandomlyselectingoneofthetwobots,weincreasedthe
feedback(responserate=43%).Theautomatedconversations’
required upvote count for accepting an automatic response
averageusersatisfactionratingwas4.50(SD=0.5,N=4);the
from1voteto2votes. Namely,whileEvorusobtainedmore
crowdconversations’averageusersatisfactionratingwas4.00
automaticresponseswithamuchhigherfrequencyinPhase2,
(SD=0.47,N=9),adifferencethatwasnotsignificant.
italsorequiredmorehumanupvotestoapproveeachautomatic
responseatthesametime. Asaresult,amongtheconversa- UpdatingEstimatesofChatbot’sPriorOverTime: While
tions that had automation in Phase 2, automated responses ourdeploymentisofamediumscale,thedynamicsofourlike-
werechosen13.25%ofthetime,inwhichaconversationon lihoodmodelcanstillbeobserved. Forinstance,theestimated
averagecontained10.68usermessages(SD=8.90),15.74ac- prior probability described in Equation 3 was continuously
ceptedmessagesproposedbythecrowdworkers(SD=11.92), updatedwiththegrowthofconversationthatEvorushad. Our
and2.40acceptedmessagesproposedbyautomaticchatter- modelassignedastartingprobabilityof0.3toeachchatbots
bots(SD=2.40). Eachacceptednon-usermessagereceived (Figure 6). When users started talking with Evorus, crowd
1.90humanupvotes(SD=1.13)and0.30automaticupvotes workersprovidedtheirfeedbackbyupvotinganddownvoting,
(SD=0.22). WedidnotcomparePhase2’sresultsindetailto andthuschangedtheestimationovertime. Whennewchat-
thatoftheControlPhasebecausethehigh-frequencysetupof botswereadded,Evorusintentionallyassignedthemahigher
Phase2isprimarilyforexperimentalexploration. priorprobabilitiestoallowquickercrowdfeedback.
user hi!CanyousummarizethefeaturesofthenewiPhoneforme?
[MultiplemessageslistthefeaturesoftheiPhoneX.]
bot ThereisnoiPhone7.
[Thecrowdlistsmorefeatures,andtheusersaysthankyou.]
crowd Noproblem!
crowd SomeAutorepliesdon’tevenmakesense
DISCUSSIONANDCONCLUSION
We introduced Evorus, a crowd-powered system conversa-
tionalassistantbuilttoautomateitselfovertime. Informedby
twophasesofpublicfielddeploymentandtestingwithreal
users,weiterativelydesignedandrefineditsflexibleframe-
work for open-domain dialog. We imagine a future where
Figure6. Theestimatedpriorprobability(Equation3)ofeachchatbot thousandsofonlineserviceproviderscandeveloptheirown
wascontinuouslyupdatedwiththegrowthofusermessages. chatbots,notonlytoservetheirownusersinatask-specific
context,butalsotodynamicallyintegratetheirservicesinto
UtilityBotsinCold-StartScenarios: Wewouldliketoun-
Evorus with the help of the crowd, allowing users to inter-
derstandifEvoruscanselectappropriatechatbotstoobtain
act freely with thousands of online services via a universal
responsesincorrespondingcontext. Sincenon-taskchatter-
portal. Supporting this scale offers opportunities for future
bots such as the Cleverbot could be difficult for humans to
research.Forexample,onedirectionistoimprovethelearning
judgeifitshouldbecalledgivenamessage,wefocusedonly
frameworktosupportthird-partychatbotsthatalsoimproves
ontask-orientedutilitybotsintheevaluation. Foreachuser
overtime, or to better balance between the exploitation and
message in the automated conversations in Phase 2, the re-
exploration phases (like in a multi-armed bandit problem).
searchersmanuallyannotatedifitisrelevanttothetopicof
Evorus could also be used to collect valuable fail cases to
“weather”and“restaurant,”respectively. Withtheassumption
enablethird-partydeveloperstoimprovetheirbots(i.e.,when
that each utility bot should be called when its topic comes
abotwastriggered,butitsproposedresponsewasrejected).
up, we compared the human-labelled topic against the top
chatbotthatweresuggestedbyEvorusandcalculatedthepre- Evorus has three main advantages as compared to previous
cision, recall, and F1-score. It is noteworthy that we only approaches. First,itisaworkingsystemthatcanserveasa
evaluatedwhentheappropriatechatbotwascalled,regardless scaffoldforautomationovertime.Acoreadvantageofstarting
ofthequalityoftheresponsesitgenerated. Asaresult,two withaworkingsystemisthatuserscantalktoEvorusnaturally
newly-addedutilitybotsbothhadahighprecisionandalower fromdayone,ensuringconversationqualitywhilecollecting
recall. TheWeatherBot’sprecisionwas1.00andtherecall trainingdataforautomation. Second,giventheoversightof
was0.47(F1=0.64);andtheYelpBot’sprecisionwas0.67and the crowd, Evorus has a high tolerance for errors from its
therecallwas0.20(F1=0.31.) Thisresultshowsthenatureof automatedcomponents.Evenanimperfectautomationcompo-
newbotsinourlearningframework: Evorususestheexpert- nent(e.g.,chatbots)cancontributetoaconversationwithout
generatedsmallsetofexamplestocalculatetheinitialvector hurtingquality,whichyieldsmorespaceforalgorithmsto“ex-
ofeachchatbot,whichcouldresultinprecisepredictionsbut plore”differentactions(e.g.,selectingachatbotwithmedium
withlowercoverage. Overtime,whenEvoruscollectsmore confidence.) Finally,Evorusallowsamixedgroupofhumans
examplesthateachbothassuccessfullyrespondedtoandthe andbotstocollaborativelyholdopenconversations.
recallincreases. Moreover,conversationsinEvorustendto
Mostautomatedsystemscreatedfromcrowdworksimplyuse
combinemultiplechatbotsandworkerstogether. Forinstance,
thecrowdfordata;Evorustightlyintegratescrowdsandma-
inthefollowingconversation,thecrowdhadtheusertonarrow
chinelearning,andprovidesspecificpointswhereautomated
downthequery,andthentheWeatherBotwasabletoanswer
componentscanbeintroduced. Thisarchitectureallowseach
it. AnadditionaldetailedexampleisshowninFigure5(A).
component to be improved, providing a common research
[TheuseraskedabouttheweatherinAfghanistan.] harnessonwhichresearchersspecializingindifferentareas
crowd WhatcityinAfghanistan?)
mayinnovateandcompete. Forinstance,“responsegenera-
[ThecrowdsendsawebsiteaboutAfghanistanweather.]
tion”haslongbeendevelopedintheNLPcommunity;Evorus
user Kabul
providesanaturalevaluateitwithinalargerconversational
bot Friday’sweatherforecastfor[Kabul,Afghanistan]: Cloudy
with a few showers. High 79F. Winds NW at 5 to 10 mph. system. TheflexibilityoftheEvorusframeworkpotentially
Chanceofrain30%. allowsforlowcostintegrationbetweenmanyonlineservice
Error Cases: Our bot-selection algorithm starts with high providers and fluid collaboration between chatbots and hu-
precisionandlowrecall,andincreasesrecallasitgradually manworkerstoformasingleuser-facingidentity. Giventhe
gathersexamples. Therefore,mosterrorsweobservedwere complexityofconversationalassistance, Evorusislikelyto
false-negatives,whereachatbotshouldhavebeentriggered becrowd-poweredinpartforsometime,butweexpectitto
butwasnot.Othererrorscamefromthechatbot,wherethebot continuetoincreasinglyrelyonautomation.
wascorrectlytriggeredbutitsresponsewasinvalid. Workers
usuallydownvotedorignoredthesesuggestions. Intherare ACKNOWLEDGEMENTS
caseswhereinvalidautomaticresponsesweremistakenlysent WethankWalterS.Laseckiandalsotheworkerswhopartici-
totheuser,thecrowdoftentriedtoexplainhowtheresponse patedinourstudies.Thisprojecthasbeenfundedaspartofthe
wasautomaticallygeneratedtotheuserafterward. Yahoo!/OathInMindProjectatCarnegieMellonUniversity.
REFERENCES 12. NathanHahn,JosephChang,JiEunKim,andAniket
1. Amazon.2017.MeetAlexa.(2017). Kittur.2016.TheKnowledgeAccelerator: Bigpicture
https://www.amazon.com/meet-alexa/b?ie= thinkinginsmallpieces.InProceedingsofthe2016CHI
UTF8&node=16067214011 ConferenceonHumanFactorsinComputingSystems.
ACM,2258–2270.
2. RafaelEBanchsandHaizhouLi.2012.IRIS:a
chat-orienteddialoguesystembasedonthevectorspace 13. BoHanandTimothyBaldwin.2011.Lexical
model.InProceedingsoftheACL2012System NormalisationofShortTextMessages: MaknSensa
Demonstrations.AssociationforComputational #Twitter.InProceedingsofthe49thAnnualMeetingof
Linguistics,37–42. theAssociationforComputationalLinguistics: Human
LanguageTechnologies-Volume1(HLT’11).
3. JeffreyP.Bigham,ChandrikaJayant,HanjieJi,Greg
AssociationforComputationalLinguistics,Stroudsburg,
Little,AndrewMiller,RobertC.Miller,RobinMiller,
PA,USA,368–378.
AubreyTatarowicz,BrandynWhite,SamualWhite,and
TomYeh.2010.VizWiz: NearlyReal-timeAnswersto http://dl.acm.org/citation.cfm?id=2002472.2002520
VisualQuestions.InProceedingsofthe23NdAnnual 14. Hangoutsbot.2017.hangoutsbot/hangoutsbot.(Apr
ACMSymposiumonUserInterfaceSoftwareand 2017).https://github.com/hangoutsbot/hangoutsbot
Technology(UIST’10).ACM,NewYork,NY,USA,
333–342.DOI: 15. JessiHempel.2015.FacebookLaunchesM,ItsBold
AnswertoSiriandCortana.(Aug2015).
http://dx.doi.org/10.1145/1866029.1866080
https://www.wired.com/2015/08/facebook-launches-
4. RolloCarpenter.2006.Cleverbot.(2006).
m-new-kind-virtual-assistant/
https://www.cleverbot.com/[Online;accessed
08-March-2017]. 16. Ting-HaoKennethHuang,AmosAzaria,andJeffreyP.
Bigham.2016.InstructableCrowd: CreatingIF-THEN
5. JosephCheeChang,AniketKittur,andNathanHahn.
RulesviaConversationswiththeCrowd.InProceedings
2016.Alloy: Clusteringwithcrowdsandcomputation.In
ofthe2016CHIConferenceExtendedAbstractson
Proceedingsofthe2016CHIConferenceonHuman
HumanFactorsinComputingSystems(CHIEA’16).
FactorsinComputingSystems.ACM,3180–3191.
ACM,NewYork,NY,USA,1555–1562.DOI:
6. Yun-NungChen,DilekHakkani-Tür,GökhanTür, http://dx.doi.org/10.1145/2851581.2892502
JianfengGao,andLiDeng.2016.End-to-EndMemory
17. Ting-HaoK.HuangandJeffreyP.Bigham.2017.A
NetworkswithKnowledgeCarryoverforMulti-Turn
10-Month-LongDeploymentStudyofOn-Demand
SpokenLanguageUnderstanding..InINTERSPEECH.
RecruitingforLow-LatencyCrowdsourcing.InIn
3245–3249.
ProceedingsofThefifthAAAIConferenceonHuman
7. JustinChengandMichaelSBernstein.2015.Flock: ComputationandCrowdsourcing(HCOMP2017).AAAI,
Hybridcrowd-machinelearningclassifiers.In AAAI.
Proceedingsofthe18thACMConferenceonComputer
18. Ting-HaoK.Huang,Yun-NungChen,andJeffreyP.
SupportedCooperativeWork&SocialComputing.ACM,
Bigham.2017.Real-timeOn-DemandCrowd-powered
600–611.
EntityExtraction.InInProceedingsofthe5thEditionOf
8. JoshConstine.2017.AmazonrejectsAI2’sAlexaskill TheCollectiveIntelligenceConference(CI2017,oral
voice-searchengine.Willitbuildone? (May2017). presentation).
https://techcrunch.com/2017/05/31/amazon-skill-
19. Ting-HaoKennethHuang,WalterS.Lasecki,Amos
search-engine/
Azaria,andJeffreyP.Bigham.2016.“Isthereanything
9. Rong-EnFan,Kai-WeiChang,Cho-JuiHsieh,Xiang-Rui
elseIcanhelpyouwith?”: ChallengesinDeployingan
Wang,andChih-JenLin.2008.LIBLINEAR-ALibrary
On-DemandCrowd-PoweredConversationalAgent.In
forLargeLinearClassification.(2008).
ProceedingsofAAAIConferenceonHumanComputation
http://www.csie.ntu.edu.tw/~cjlin/liblinear/The
andCrowdsourcing2016(HCOMP2016).AAAI.
Wekaclassifierworkswithversion1.33ofLIBLINEAR.
20. Ting-HaoKennethHuang,WalterSLasecki,and
10. MichaelJ.Franklin,DonaldKossmann,TimKraska,
JeffreyPBigham.2015.Guardian: ACrowd-Powered
SukritiRamesh,andReynoldXin.2011.CrowdDB:
SpokenDialogSystemforWebAPIs.InThirdAAAI
AnsweringQuerieswithCrowdsourcing.InProceedings
ConferenceonHumanComputationandCrowdsourcing.
ofthe2011ACMSIGMODInternationalConferenceon
ManagementofData(SIGMOD’11).ACM,NewYork, 21. EceKamar,SeverinHacker,andEricHorvitz.2012.
NY,USA,61–72.DOI: Combininghumanandmachineintelligencein
http://dx.doi.org/10.1145/1989323.1989331 large-scalecrowdsourcing.InProceedingsofthe11th
InternationalConferenceonAutonomousAgentsand
11. MilicaGasic,NikolaMrksic,LinaMRojas-Barahona,
MultiagentSystems-Volume1.InternationalFoundation
Pei-HaoSu,StefanUltes,DavidVandyke,Tsung-Hsien
forAutonomousAgentsandMultiagentSystems,
Wen,andSteveYoung.2016.Dialoguemanagerdomain
adaptationusingGaussianprocessreinforcement 467–474.
learning.arXivpreprintarXiv:1609.02846(2016).
22. EceKamarandLydiaManikonda.2017.Complementing LanguageProcessing(EMNLP).1532–1543.
theExecutionofAISystemswithHumanComputation. http://www.aclweb.org/anthology/D14-1162
InAAAIWorkshoponCrowdsourcing,DeepLearning
33. AntoineRauxandMaxineEskenazi.2008.Optimizing
andArtificialIntelligenceAgents2017.AAAI.
endpointingthresholdsusingdialoguefeaturesina
23. G.Laput,W.S.Lasecki,J.Wiese,R.Xiao,J.P.Bigham, spokendialoguesystem.InProceedingsofthe9th
andC.Harrison.2015.Zensors: Adaptive,Rapidly SIGdialWorkshoponDiscourseandDialogue.
Deployable,Human-IntelligentSensorFeeds.In AssociationforComputationalLinguistics,1–10.
ProceedingsoftheSIGCHIConferenceonHuman
34. DanielaRetelny,SébastienRobaszkiewicz,AlexandraTo,
FactorsinComputingSystems(CHI’15).ACM,New
WalterSLasecki,JayPatel,NegarRahmati,Tulsee
York,NY,USA,10.http://www.cs.cmu.edu/~jbigham/
Doshi,MelissaValentine,andMichaelSBernstein.2014.
pubs/pdfs/2015/zensors.pdf
Expertcrowdsourcingwithflashteams.InProceedingsof
24. WalterS.Lasecki,PhyoThiha,YuZhong,ErinBrady, the27thannualACMsymposiumonUserinterface
andJeffreyP.Bigham.2013a.AnsweringVisual softwareandtechnology.ACM,75–85.
QuestionswithConversationalCrowdAssistants.In
35. AlanRitter,ColinCherry,andWilliamBDolan.2011.
Proceedingsofthe15thInternationalACMSIGACCESS
Data-drivenresponsegenerationinsocialmedia.In
ConferenceonComputersandAccessibility(ASSETS
Proceedingsoftheconferenceonempiricalmethodsin
’13).ACM,NewYork,NY,USA,Article18,8pages.
naturallanguageprocessing.Associationfor
DOI:http://dx.doi.org/10.1145/2513383.2517033
ComputationalLinguistics,583–593.
25. WalterS.Lasecki,RachelWesley,JeffreyNichols,
36. EricaSadunandSteveSande.2012.TalkingtoSiri:
AnandKulkarni,JamesF.Allen,andJeffreyP.Bigham.
LearningtheLanguageofApple’sIntelligentAssistant.
2013b.Chorus: ACrowd-poweredConversational
QuePublishing.
Assistant.InProceedingsofthe26thAnnualACM
SymposiumonUserInterfaceSoftwareandTechnology 37. AkashDasSarma,AyushJain,ArnabNandi,Aditya
(UIST’13).ACM,NewYork,NY,USA,151–162.DOI: Parameswaran,andJenniferWidom.2015.Surpassing
http://dx.doi.org/10.1145/2501988.2502057 humansandcomputerswithJELLYBEAN:
Crowd-vision-hybridcountingalgorithms.InThirdAAAI
26. JiweiLi,MichelGalley,ChrisBrockett,JianfengGao,
ConferenceonHumanComputationandCrowdsourcing.
andBillDolan.2016.APersona-BasedNeural
ConversationModel.arXivpreprintarXiv:1603.06155 38. KonradSchefflerandSteveYoung.2002.Automatic
(2016). LearningofDialogueStrategyUsingDialogue
SimulationandReinforcementLearning.InProceedings
27. XuijunLi,Yun-NungChen,LihongLi,JianfengGao,
oftheSecondInternationalConferenceonHuman
andAsliCelikyilmaz.2017.End-to-End
LanguageTechnologyResearch(HLT’02).Morgan
Task-CompletionNeuralDialogueSystems.In
KaufmannPublishersInc.,SanFrancisco,CA,USA,
ProceedingsofThe8thInternationalJointConferenceon
12–19.
NaturalLanguageProcessing(IJCNLP2017).AFNLP.
http://dl.acm.org/citation.cfm?id=1289189.1289246
28. LeighAnneLiu,CheiHweeChua,andGünterKStahl.
39. SaiganeshSwaminathan,RaymondFok,FanglinChen,
2010.Qualityofcommunicationexperience: definition,
Ting-HaoK.Huang,IreneLin,RohanJadvani,Walter
measurement,andimplicationsforintercultural
Lasecki,andJeffreyBigham.2017.WearMail:
negotiations.JournalofAppliedPsychology95,3(2010),
On-the-GoAccesstoInformationinYourEmailwitha
469.
Privacy-PreservingHumanComputationWorkflow.In
29. MatthewLynley.2016.MakeMagic’sAssistantsDo 30thACMSymposiumonUserInterfaceSoftwareand
AlmostAnythingWith$100/HourAndATextMessage. Technology(UIST2017).
(Jan2016).https://techcrunch.com/2016/01/05/
40. LongTran-Thanh,SebastianStein,AlexRogers,and
make-magics-assistants-do-almost-anything-with-
NicholasRJennings.2014.Efficientcrowdsourcingof
100hour-and-a-text-message/
unknownexpertsusingboundedmulti-armedbandits.
30. CableNewsNetwork.2017.(2017). ArtificialIntelligence214(2014),89–111.
http://transcripts.cnn.com/TRANSCRIPTS/
41. WeatherUnderground.2017.AWeatherAPIDesigned
31. CaseyNewton.2016(accessedOctober24th,2016). forDevelopers.(2017).
SPEAK,MEMORY:Whenherbestfrienddied,sherebuilt https://www.wunderground.com/weather/api/
himusingartificialintelligence.
42. MarilynAWalker,DianeJLitman,CandaceAKamm,
https://www.theverge.com/a/luka-artificial-
andAliciaAbella.1997.PARADISE:Aframeworkfor
intelligence-memorial-roman-mazurenko-bot
evaluatingspokendialogueagents.InProceedingsofthe
32. JeffreyPennington,RichardSocher,andChristopherD. eighthconferenceonEuropeanchapterofthe
Manning.2014.GloVe: GlobalVectorsforWord AssociationforComputationalLinguistics.Association
Representation.InEmpiricalMethodsinNatural forComputationalLinguistics,271–280.
43. Tsung-HsienWen,MilicaGasic,NikolaMrksic,LinaM 47. IanHWitten,EibeFrank,MarkAHall,and
Rojas-Barahona,Pei-HaoSu,DavidVandyke,andSteve ChristopherJPal.2016.DataMining: Practicalmachine
Young.2016.Multi-domainNeuralNetworkLanguage learningtoolsandtechniques.MorganKaufmann.
GenerationforSpokenDialogueSystems.arXivpreprint
48. XuesongYang,Yun-NungChen,DilekHakkani-Tür,
arXiv:1603.01232(2016).
PaulCrook,XiujunLi,JianfengGao,andLiDeng.2017.
44. Wikipedia.2017a.Cleverbot—Wikipedia,TheFree End-to-endjointlearningofnaturallanguage
Encyclopedia. understandinganddialoguemanager.InAcoustics,
http://en.wikipedia.org/w/index.php?title= SpeechandSignalProcessing(ICASSP),2017IEEE
Cleverbot&oldid=771836990.(2017).[Online;accessed InternationalConferenceon.IEEE,5690–5694.
02-April-2017].
49. Yelp.2017.YelpAPIDocumentation.(2017).
45. Wikipedia.2017b.Tay(bot)—Wikipedia,TheFree
https://www.yelp.com/developers/documentation/
Encyclopedia.
v2/overview
http://en.wikipedia.org/w/index.php?title=
Tay%20(bot)&oldid=769762463.(2017).[Online; 50. TianchengZhao,KyusongLee,andMaxineEskenazi.
accessed04-April-2017]. 2016.DialPort: ConnectingtheSpokenDialogResearch
CommunitytoRealUserData.arXivpreprint
46. JasonDWilliamsandSteveYoung.2007.Partially
arXiv:1606.02562(2016).
observableMarkovdecisionprocessesforspokendialog
systems.ComputerSpeech&Language21,2(2007),
393–422.

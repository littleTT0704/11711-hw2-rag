Underreview
WEBARENA: A REALISTIC WEB ENVIRONMENT FOR
BUILDING AUTONOMOUS AGENTS
ShuyanZhou∗ FrankF.Xu∗ HaoZhu† XuhuiZhou†
RobertLo† AbishekSridhar† XianyiCheng TianyueOu
YonatanBisk DanielFried UriAlon GrahamNeubig
CarnegieMellonUniversity
{shuyanzh, fangzhex, gneubig}@cs.cmu.edu
ABSTRACT
With advances in generative AI, there is now potential for autonomous agents
tomanagedailytasksvianaturallanguagecommands. However,currentagents
areprimarilycreatedandtestedinsimplifiedsyntheticenvironments,leadingto
adisconnectwithreal-worldscenarios. Inthispaper, webuildanenvironment
forlanguage-guidedagentsthatishighlyrealisticandreproducible. Specifically,
we focus on agents that perform tasks on the web, and create an environment
withfullyfunctionalwebsitesfromfourcommondomains: e-commerce,social
forumdiscussions,collaborativesoftwaredevelopment,andcontentmanagement.
Our environment is enriched with tools (e.g., a map) and external knowledge
bases(e.g.,usermanuals)toencouragehuman-liketask-solving. Buildingupon
ourenvironment,wereleaseasetofbenchmarktasksfocusingonevaluatingthe
functionalcorrectnessoftaskcompletions. Thetasksinourbenchmarkarediverse,
long-horizon,anddesignedtoemulatetasksthathumansroutinelyperformonthe
internet. Weexperimentwithseveralbaselineagents,integratingrecenttechniques
such as reasoning before acting. The results demonstrate that solving complex
tasks is challenging: our best GPT-4-based agent only achieves an end-to-end
tasksuccessrateof14.41%,significantlylowerthanthehumanperformanceof
78.24%. Theseresultshighlighttheneedforfurtherdevelopmentofrobustagents,
thatcurrentstate-of-the-artlargelanguagemodelsarefarfromperfectperformance
inthesereal-lifetasks,andthatWebArenacanbeusedtomeasuresuchprogress.
Ourcode,data,environmentreproductionresources,andvideodemonstrationsare
publiclyavailableathttps://webarena.dev/.
1 INTRODUCTION
Autonomous agents that perform everyday tasks via human natural language commands could
significantlyaugmenthumancapabilities,improveefficiency,andincreaseaccessibility. Nonetheless,
tofullyleveragethepowerofautonomousagents,itiscrucialtounderstandtheirbehaviorwithinan
environmentthatisbothauthenticandreproducible. Thiswillallowmeasurementoftheabilityof
agentsontasksthathumanuserscareaboutinafairandconsistentmanner.
Currentenvironmentsforevaluateagentstendtoover-simplifyreal-worldsituations. Asaresult,the
functionalityofmanyenvironmentsisalimitedversionoftheirreal-worldcounterparts,leadingto
alackoftaskdiversity(Shietal.,2017;Andersonetal.,2018;Gordonetal.,2018;Misraetal.,
2016;Shridharetal.,2020;2021;Yaoetal.,2022a). Inaddition,thesesimplificationsoftenlower
thecomplexityoftasksascomparedtotheirexecutionintherealworld(Puigetal.,2018;Shridhar
etal.,2020;Yaoetal.,2022a). Finally,someenvironmentsarepresentedasastaticresource(Shi
etal.,2017;Dengetal.,2023)whereagentsareconfinedtoaccessingonlythosestatesthatwere
previously cached during data collection, thus limiting the breadth and diversity of exploration.
Dorevaluation,manyenvironmentsfocusoncomparingthetextualsurfaceformofthepredicted
∗Leadcontributors.
†Equalcontribution.
1
3202
tcO
52
]IA.sc[
3v45831.7032:viXra
Underreview
REDDIT LOGO
Reddit wordmark Self-hosted fully functional web applications “ Tell me how much I spent on
Whenever possible, Reddit’s icon and food purchase in March 2023
wordmark should appear together. Action ”
Reddit’s wordmark is a refined
variation on its classic logo. The
rounded letters and shorter “i” reflect
t Th he e b dr oa tn od n’s tf hri ee “n id ” l iy s, Ow rh ai nm gs eic real d n ature. “ Create a ‘NolanFans' repo,
( rF eF c4 a5 lli0 n0 g, SP nM oS o ’1 s7 e2 y C es) .and oversized, listing Nolan's Oscar-winning
The wordmark should be aligned with CMS films in a README file ”
the Snoo in the horizontal lockup, and
t ph lae c s ea mfe e a nr te ia n d be ot te hr cm oi nn fies g ure rala tt ioiv ne s . Agent
Feedback check_repo
check_readme
Toolbox Knowledge resources check_answer
Functional Functional
WebArena Success Failure
Version 09-2020 04
Figure1:WebArenaisastandalone,self-hostablewebenvironmentforbuildingautonomousagents.
WebArenacreateswebsitesfromfourpopularcategorieswithfunctionalityanddatamimicking
theirreal-worldequivalents. Toemulatehumanproblem-solving,WebArenaalsoembedstoolsand
knowledgeresourcesasindependentwebsites. WebArenaintroducesabenchmarkoninterpreting
high-level realistic natural language command to concrete web-based interactions. We provide
annotatedprogramsdesignedtoprogrammaticallyvalidatethefunctionalcorrectnessofeachtask.
action sequences with reference action sequences, disregarding the functional correctness of the
executionsandpossiblealternativesolutions(Puigetal.,2018;Jerniteetal.,2019;Xuetal.,2021;Li
etal.,2020;Dengetal.,2023). Theselimitationsoftenresultinadiscrepancybetweensimulated
environments and the real world, and can potentially impact the generalizability of AI agents to
successfullyunderstand,adapt,andoperatewithincomplexreal-worldsituations.
WeintroduceWebArena,arealisticandreproduciblewebenvironmentdesignedtofacilitatethe
developmentofautonomousagentscapableofexecutingtasks(§2). AnoverviewofWebArena
is in Figure 1. Our environment comprises four fully operational, self-hosted web applications,
eachrepresentingadistinctdomainprevalentontheinternet: onlineshopping,discussionforums,
collaborativedevelopment,andbusinesscontentmanagement.Furthermore,WebArenaincorporates
severalutilitytools,suchasmap,calculator,andscratchpad,tobestsupportpossiblehuman-liketask
executions. Lastly,WebArenaiscomplementedbyanextensivecollectionofdocumentationand
knowledgebasesthatvaryfromgeneralresourceslikeEnglishWikipediatomoredomain-specific
references,suchasmanualsforusingtheintegrateddevelopmenttool(Fanetal.,2022). Thecontent
populatingthesewebsitesisextractedfromtheirreal-worldcounterparts,preservingtheauthenticity
ofthecontentservedoneachplatform. WedeliverthehostingservicesusingDockercontainerswith
gym-APIs(Brockmanetal.,2016),ensuringboththeusabilityandthereproducibilityofWebArena.
AlongwithWebArena, wereleaseaready-to-usebenchmarkwith812long-horizonweb-based
tasks (§3). Each task is described as a high-level natural language intent, emulating the abstract
languageusagepatternstypicallyemployedbyhumans(Bisketal.,2019). Twoexampleintents
areshownintheupperleftofFigure1. Wefocusonevaluatingthefunctionalcorrectnessofthese
tasks, i.e., doesthe resultoftheexecutionactually achieve thedesiredgoal (§3.2). For instance,
to evaluate the example in Figure 2, our evaluation method verifies the concrete contents in the
designatedrepository. Thisevaluationisnotonlymorereliable(Zhongetal.,2017;Chenetal.,2021;
Wangetal.,2022)thancomparingthetextualsurface-formactionsequences(Puigetal.,2018;Deng
etal.,2023)butalsoaccommodatearangeofpotentialvalidpathstoachievethesamegoal,whichis
aubiquitousphenomenoninsufficientlycomplextasks.
WeusethisbenchmarktoevaluateseveralagentsthatcanfollowNLcommandandperformweb-
based tasks (§4). These agents are implemented in a few-shot in-context learning fashion with
powerfullargelanguagemodels(LLMs)suchasGPT-4andPALM-2. Experimentresultsshowthat
thebestGPT-4agentperformanceissomewhatlimited,withanend-to-endtasksuccessrateofonly
14.41%,whilethehumanperformanceis78.24%. Wehypothesizethatthelimitedperformanceof
currentLLMsstemsfromalackofcrucialcapabilitiessuchasactiveexplorationandfailurerecovery
tosuccessfullyperformcomplextasks (§5.2). Theseoutcomesunderscorethenecessityforfurther
developmenttowardsrobustandeffectiveagents(LeCun,2022)inWebArena.
2
Underreview
“ Create an efficient itinerary to visit all of Pittsburgh's art museums with minimal driving distance
starting from Schenley Park. Log the order in my “awesome-northeast-us-travel” repository ”
webarena.wikipedia.com webarena.openstreetmap.com webarena.gitlab.com
…
Search for museums Search for each art Record the optimized
in Pittsburgh museum on the Map results to the repo
Figure2: Ahigh-leveltaskthatcanbefullyexecutedinWebArena. Successrequiressophisticated,
long-termplanningandreasoning. Toaccomplishthegoal(top),anagentneedsto(1)findPittsburgh
artmuseumsonWikipedia,(2)identifytheirlocationsonamap(whileoptimizingtheitinerary),and
(3)updatetheREADMEfileintheappropriaterepositorywiththeplannedroute.
2 WEBARENA: WEBSITES AS AN ENVIRONMENT FOR AUTONOMOUS AGENTS
Ourgoalistocreatearealisticandreproduciblewebenvironment. Weachievereproducibilityby
makingtheenvironmentstandalone,withoutrelyingonlivewebsites. Thiscircumventstechnical
challenges such as bots being subject to CAPTCHAs, unpredictable content modifications, and
configuration changes, which obstruct a fair comparison across different systems over time. We
achieverealismbyusingopen-sourcelibrariesthatunderliemanyin-usesitesfromseveralpopular
categoriesandimportingdatatoourenvironmentfromtheirreal-worldcounterparts.
2.1 CONTROLLINGAGENTSTHROUGHHIGH-LEVELNATURALLANGUAGE
TheWebArenaenvironmentisdenotedasE=⟨S,A,O,T⟩withstatespaceS,actionspaceA(§2.4)
andobservationspaceO(§2.3). ThetransitionfunctionT :S×A−→S isdeterministic,anditis
definedbytheunderlyingimplementationofeachwebsiteintheenvironment. Performingatask
describedbyanaturallanguageintenticanbeformulatedasapartiallyobservableMarkovdecision
process(POMDP):ateachtimestept,anagentissuesanactiona ∈Agiventhepartialobservation
t
o ∈O. Consequently,theactionresultsinanewstates ∈S anditscorrespondingobservation
t t+1
o ∈O. Weproposearewardfunctionr(a,s)tomeasurethesuccessofataskexecution,where
t+1
arepresentsthesequenceofactions, andsdenotesallintermediatestates. Thisrewardfunction
assessesifstatetransitionsalignwiththeexpectationsoftheintents. Forexample,withanintentto
placeanorder,itverifieswhetheranorderhasbeenplaced. Additionally,itevaluatestheaccuracyof
theagent’sactions,suchascheckingthecorrectnessofthepredictedanswer.
2.2 WEBSITESELECTION
Todecidewhichcategoriesofwebsitestouse,wefirstanalyzedapproximately200examplesfromthe
authors’actualwebbrowserhistories. Eachauthordelvedintotheirbrowsinghistories,summarizing
the goal of particular segments of their browser session. Based on this, we classified the visited
websitesintoabstractcategories. Wethenidentifiedthefourmostsalientcategoriesandimplemented
one instance per category based on this analysis: (1) E-commerce platforms supporting online
shoppingactivities(e.g.,Amazon,eBay),(2)socialforumplatformsforopinionexchanges (e.g.,
Reddit,StackExchange),(3)collaborativedevelopmentplatformsforsoftwaredevelopment(e.g.,
GitLab),and(4)contentmanagementsystems(CMS)thatmanagethecreationandrevisionofthe
digitalcontent(e.g.,onlinestoremanagement).
Inadditiontotheseplatforms,weselectedthreeutility-styletoolsthatarefrequentlyusedinweb-
basedtasks: (1)amapfornavigationandsearchingforinformationaboutpointsofinterest(POIs)
suchasinstitutionsorlocations(2)acalculator,and(3)ascratchpadfortakingnotes. Asinformation-
seeking and knowledge acquisition are critical in web-based tasks, we also incorporated various
knowledgeresourcesintoWebArena. Theseresourcesrangefromgeneralinformationhubs,such
astheEnglishWikipedia,tomorespecializedknowledgebases,suchasthewebsiteusermanuals.
3
Underreview
webarena.onestopshop.com webarena.onestopshop.com webarena.onestopshop.com
<li>
<div> RootWebArea ‘Patio, Lawn ..’
<a href="..."><img src="..."></a> link 'Image'
<div class> img 'Image'
<a href="...">Outdoor Patio … link 'Outdoor Patio..’
</a> LayoutTable ''
<div> StaticText 'Rating:'
<span>Rating:</span> generic '82%'
<div> link '12 Reviews'
<span>82%</span> StaticText ‘$49.99'
</div> button 'Add to Cart’ focusable: True
<a href=“…#reviews">12 button 'Wish List’ focusable: …
<span>Reviews</span></a> button 'Compare’ focusable: …
Figure3: WedesigntheobservationtobetheURLandthecontentofawebpage,withoptionsto
representthecontentasascreenshot(left),HTMLDOMtree(middle),andaccessibilitytree(right).
Thecontentofthemiddleandrightfiguresaretrimmedtosavespace.
Implementation Weleveragedopen-sourcelibrariesrelevanttoeachcategorytobuildourown
versionsofanE-commercewebsite(OneStopShop),GitLab,Reddit,anonlinestorecontentmanage-
mentsystem(CMS),amap,andanEnglishWikipedia. Thenweimportedsampleddatafromtheir
real-worldcounterparts. Asanexample,ourversionofGitLabwasdevelopedbasedontheactual
GitLabproject.1 Wecarefullyemulatedthefeaturesofatypicalcoderepositorybyincludingboth
popularprojectswithmanyissuesandpullrequestsandsmaller,personalprojects. Detailsofall
websitesinWebArenacanbefoundinAppendixA.1. Wedelivertheenvironmentasdockersand
providescriptstoresettheenvironmenttoadeterministicinitialstate(SeeAppendixA.2).
2.3 OBSERVATIONSPACE
Wedesigntheobservationspacetoroughlymimicthewebbrowserexperience: awebpageURL,the
openedtabs,andthewebpagecontentofthefocusedtab. WebArenaisthefirstwebenvironment
to consider multi-tab web-based tasks to promote tool usage, direct comparisons and references
acrosstabs,andotherfunctionalities. Themulti-tabfunctionalityoffersamoreauthenticreplication
of human web browsing habits compared to maintaining everything in a single tab. We provide
flexibleconfigurationtorenderthepagecontentinmanymodes: (seeFigure3foranexample): (1)
therawwebpageHTML,composedofaDocumentObjectModel(DOM)tree,ascommonlyused
in past work (Shi et al., 2017; Deng et al., 2023; Li et al., 2020); (2) a screenshot, a pixel-based
representationthatrepresentsthecurrentwebpageasanRGBarrayand(3)theaccessibilitytreeof
thewebpage.2 TheaccessibilitytreeisasubsetoftheDOMtreewithelementsthatarerelevantand
usefulfordisplayingthecontentsofawebpage. Everyelementisrepresentedasitsrole(e.g.,alink),
itstextcontent,anditsproperties(e.g.,whetheritisfocusable). Accessibilitytreeslargelyretainthe
structuredinformationofawebpagewhilebeingmorecompactthantheDOMrepresentation.
We provide an option to limit the content to the contents within a viewport for all modes. This
ensuresthattheobservationcanbeinputintoatext-basedmodelwithlimitedcontextlengthoran
image-basedmodelwithimagesizeorresolutionrequirements.
2.4 ACTIONSPACE
Followingpreviousworkonnavigationandoperationinwebandembodiedenvironments(Shietal.,
2017;Liuetal.,2018),wedesignacompoundactionspacethatemulatesthekeyboardandmouse
operations available on web pages. Figure 4 lists all the available actions categorized into three
distinctgroups. Thefirstgroupincludeselementoperationssuchasclicking,hovering,typing,and
keycombinationpressing. Thesecondcomprisestab-relatedactionssuchasopening,closing,and
switchingbetweentabs. ThethirdcategoryconsistsofURLnavigationactions,suchasvisitinga
specificURLornavigatingforwardandbackwardinthebrowsinghistory.
Buildingontheseactions,WebArenaprovidesagentswiththeflexibilitytorefertoelementsfor
operationindifferentways. Anelementcanbeselectedbyitson-screencoordinates,(x,y),orby
auniqueelementIDthatisprependedtoeachelement. ThisIDisgeneratedwhentraversingthe
DocumentObjectModel(DOM)oraccessibilitytree. WithelementIDs,theelementselectionis
transformedintoann-wayclassificationproblem,therebyeliminatinganydisambiguationefforts
requiredfromtheagentortheunderlyingimplementation. Forexample,issuingtheactionclick
1https://gitlab.com/gitlab-org/gitlab
2https://developer.mozilla.org/en-US/docs/Glossary/Accessibility_tree
4
Underreview
[1582]clicksthebuttongiventheobservationof[1582] Add to Cart. Thisflexibleelement
selectionallowsWebArenatosupportagentsdesignedinvariousways(e.g.,acceptinginputfrom
differentmodalities)withoutcompromisingfaircomparisonmetricssuchasstepcount.
UserRoleSimulation Usersofthesamewebsiteoftenhavedisparateexperiencesduetotheir
distinctroles,permissions,andinteractionhistories. Weemulatethisscenariobygeneratingunique
userprofilesoneachplatform. ThedetailscanbefoundinAppendixA.3.
3 BENCHMARK SUITE OF WEB-BASED TASKS
Weprovideabenchmarkwith812testexamplesongroundinghigh-levelnaturallanguageinstructions
tointeractionsinWebArena. Eachexamplehasametrictoevaluatethefunctionalcorrectnessof
thetaskexecution. Inthissection,wefirstformallydefinethetaskofcontrollinganautonomous
agentthroughnaturallanguage. Thenweintroducetheannotationprocessofourbenchmark.
3.1 INTENTCOLLECTION
WefocusoncuratingrealisticintentstocarryoutcomplexandcreativetaskswithinWebArena. To
startwith,ourannotatorswereguidedtospendafewminutesexploringthewebsitestofamiliarize
themselves with the websites’ content and functionalities. As most of our websites are virtually
identicaltotheiropen-webcounterparts,despitehavingsampleddata,mostannotatorscanquickly
comprehendthewebsites.
Next,weinstructedtheannotatorstoformulateintentsbasedonthefollowingcriteria:
(1) Theintentshouldbeabstract andhigh-level, implyingthatthetaskcannotbefulfilledwith
merely one or two actions. As an example, instead of “click the science subreddit”, we
encouragedannotatorstocomeupwithsomethingmorecomplexlike“postagreetingmessage
onsciencesubreddit”,whichinvolvesperformingmultipleactions.
(2) Theintentshouldbecreative. Commontaskssuchasaccountcreationcanbeeasilythoughtof.
Weencouragedtheannotatorstoaddconstraints(e.g.,“createaRedditaccountidenticaltomy
GitLabone”)tomaketheintentsmoreunique.
(3) The intent should be formulated as a template by making replaceable elements as variables.
Theannotatorswerealsoresponsiblefordevelopingseveralinstantiationsforeachvariable.
Forexample,theintent“createaRedditaccountidenticaltomyGitLabone”canbeconverted
into“createa{{site1}}accountidenticaltomy{{site2}}one”,withaninstantiationlike“{site1:
Reddit,site2: GitLab}”andanotherlike“{site1: GitLab,site2: OneStopShopping}”. Notably,
tasksderivedfromthesametemplatecanhavedistinctexecutiontraces. Thesimilarityresides
primarilyinthehigh-levelsemanticsratherthanthespecificimplementation.
WealsoprovidedapromptfortheannotatorstousewithChatGPT3forinspiration,thatcontainsan
overviewofeachwebsiteandinstructsthemodeltodescribepotentialtaskstobeperformedonthese
sites. Furthermore,weofferedacuratedlistofexamplesforannotatorstoreference.
IntentAnalysis Intotal,wecurated241templatesand812instantiatedintents. Onaverage,each
templateisinstantiatedto3.3examples. TheintentdistributionisshowninFigure6.
Furthermore,weclassifytheintentsintothreeprimarycategorieswithexamplesshowninFigure5:
(1) Information-seekingtasksexpectatextualresponse. Importantly,thesetasksinWebArena
oftenrequirenavigationacrossmultiplepagesorfocusonuser-centriccontent. Thismakes
themdistinctfromopen-domainquestion-answering (Yangetal.,2018;Kwiatkowskietal.,
2019),whichfocusesonqueryinggeneralknowledgewithasimpleretrievalstep. Forinstance,
toanswer“WhenwasthelasttimeIboughttheshampoo”,anagenttraversestheuser’spurchase
history,checkingorderdetailstoidentifythemostrecentshampoopurchase.
(2) Sitenavigation: Thiscategoryiscomposedoftasksthatrequirenavigatingthroughwebpages
usingavarietyofinteractiveelementssuchassearchfunctionsandlinks. Theobjectiveisoften
tolocatespecificinformationornavigatetoaparticularsectionofasite.
3https://chat.openai.com/
5
Underreview
ActionType Description Category Example
noop Donothing WhenwasthelasttimeIboughtshampoo
click(elem) Clickatanelement Information
hover(elem) Hoveronanelement Seeking Comparewalkinganddrivingtime
type(elem, text) Typetoanelement fromAMCWaterfronttoRandyland
press(key_comb) Pressakeycomb
Site Checkoutmergerequestsassignedtome
tab_focus(index) focusoni-thtab Navigation
new_tab Openanewtab Showmetheergonomicchair
tab_close Closecurrenttab withthebestrating
go_back VisitthelastURL Content Posttoask“whetherIneedacarinNYC”
go_forward Undogo_back &
goto(URL) GotoURL Config DeletethereviewsfromthescammerYoke
Figure4: ActionSpaceofWebArena Figure5: Exampleintentsfromthreecategories.
(3) Contentandconfigurationoperation: Thiscategoryencapsulatestasksthatrequireoperating
inthewebenvironmenttocreate,revise,orconfigurecontentorsettings. Thisincludesadjusting
settings,managingaccounts,performingonlinetransactions,generatingnewwebcontent,and
modifyingexistingcontent. ExamplesrangefromupdatingasocialmediastatusorREADME
filetoconductingonlinepurchasesandconfiguringprivacysettings.
3.2 EVALUATIONANNOTATION
EvaluatingInformationSeekingTasks Tomeasurethecorrectnessofinformation-seekingtasks
whereatextualanswerisexpected,weprovidetheannotatedanswera∗ foreachintent. Thea∗ is
furthercomparedwiththepredictedansweraˆwithoneofthefollowingscoringfunctionsr (aˆ,a∗).
info
First,wedefineexact_matchwhereonlyaˆthatisidenticalwitha∗receivesascoreofone. This
functionisprimarilyapplicabletointenttypeswhoseresponsesfollowamorestandardizedformat,
similartotheevaluationonquestionansweringliterature(Rajpurkaretal.,2016;Yangetal.,2018).
Second,wecreatemust_includewhereanyaˆcontaininga∗receivesascoreofone.Thisfunction
isprimarilyusedinwhenanunorderedlistoftextisexpectedorwheretheemphasisofevaluationis
oncertainkeyconcepts. InthesecondexampleinTable1,weexpectboththecorrectnameandthe
emailaddresstobepresented,irrespectiveoftheprecisewordingusedtoconveytheanswer.
Finally, we introduce fuzzy_match where we utilize a language model to assess whether aˆ is
semantically equivalent to a∗. Specifically, in this work, we use gpt-4-0613 to perform this
evaluation. ThecorrespondingpromptdetailsareprovidedinAppendixA.6. Thefuzzy_match
functionappliestosituationswheretheformatoftheanswerisdiverse. Forinstance,inresponding
to “Compare the time for walking and driving route from AMC Waterfront to Randyland”, it is
essentialtoensurethatdrivingtimeandwalkingtimeareaccuratelylinkedwiththecorrectterms.
Thefuzzy_matchfunctioncouldalsoflexiblymatchthetime“2h58min”withdifferentforms
suchas“2hour58minutes”,“2:58”andothers.
EvaluatingSiteNavigationandContent&ConfigTasks Thetasksinthesecategoriesrequire
accessingwebpagesthatmeetcertainconditionsorperformingoperationsthatmodifytheunderlying
data storage of the respective websites. To assess these, we establish reward functions r (s)
prog
thatprogrammaticallyexaminetheintermediatestatesswithinanexecutiontrajectorytoascertain
whethertheoutcomealignswiththeintendedresult.Theseintermediatestatesareoftentheunderlying
databasesofthewebsites,thestatus,andthecontentofawebpageateachstepoftheexecution.
Evaluating each instance involves two components. First, we provide a locator, tasked with
retrievingthecriticalcontentpertinenttoeachintent. Theimplementationofthislocatorvariesfrom
adatabasequery,awebsite-supportedAPIcall,toaJavaScriptelementselectionontherelevantweb
page,dependingonimplementationfeasibility. Forexample,theevaluationprocessfortheintentof
thefifthexampleinTable1,firstobtainstheURLofthelatestpostbyexaminingthelaststateinthe
statesequences. Thenitnavigatestothecorrespondingpostpageandobtainsthepost’scontentby
runningtheJavascript“document.querySelector(‘.submission__inner’).outerText”.
Subsequently,weannotatekeywordsthatneedtoexistwithinthelocatedcontent. Forexample,
theevaluationverifiesifthepostiscorrectlypostedinthe“nyc”subredditbyexaminingtheURLof
6
Underreview
Function ID Intent EvalImplementation
Tellmethenameofthecustomerwho
1 exact_match(aˆ,“SamanthaJones”)
hasthemostcancellationsinthehistory
r (a∗,aˆ) Findthecustomernameand must_include(aˆ,“SeanMiller”)
info 2
emailwithphonenumber8015551212 must_include(aˆ,“sean@gmail.com”)
Comparewalkinganddrivingtime fuzzy_match(aˆ,“walking:2h58min”)
3
fromAMCWaterfronttoRandyland fuzzy_match(aˆ,“driving:21min”)
url=locate_current_url(s)
Checkoutmergerequests
4 exact_match(URL,“gitlab.com/merge_
assignedtome
requests?assignee_username=byteblaze”)
url=locate_latest_post_url(s)
r (s)
prog Posttoask“whetherI body=locate_latest_post_body(s)
5
needacarinNYC” must_include(URL,“/f/nyc”)
must_include(body,“acarinNYC”)
Table1: Weintroducetwoevaluationapproaches. r (top)measuresthecorrectnessofperforming
info
information-seeking tasks. It compares the predicted answer aˆ with the annotated reference a∗
withthreeimplementations. r (bottom)programmaticallycheckswhethertheintermediatestates
prog
duringtheexecutionspossesstheanticipatedpropertiesspecifiedbytheintent.
thepostandifthepostcontainstherequestedcontentbyexaminingthepostcontent. Wereusethe
exact_matchandmust_includefunctionsfrominformation-seekingtasksforthispurpose.
Unachievable Tasks Due to constraints such as inadequate evidence, user permissions (§A.3),
ortheabsenceofnecessaryfunctionalsupportonthewebsite,humansmayaskfortasksthatare
notpossibletocomplete. Inspiredbypreviousworkonevaluatingquestion-answeringmodelson
unanswerablequestions(Rajpurkaretal.,2018),wedesignunachievabletasksinWebArena. For
instance, fulfilling an intent like “Tell me the contact number of OneStopShop” is impracticable
in WebArena, given that the website does not provide such contact information. We label such
instancesas"N/A"andexpectanagenttoproduceanequivalentresponse. Theseexamplesallowus
toassessanagent’sabilitytoavoidmakingunfoundedclaimsanditsadherencetofactualaccuracy.
AnnotationProcess Theintentswerecontributedbytheauthorsfollowingtheannotationguideline
in §3.1. Every author has extensive experience with web-based tasks. The reference answers to
the information-seeking tasks were curated by the authors and an external annotator. To ensure
consistencyandaccuracy, eachquestionwasannotatedtwice. Ifthetwoannotatorsdisagreed, a
third annotator finalized the annotation. The programs to evaluate the remaining examples were
contributedbythreeoftheauthorswhoareproficientinJavaScriptprogramming. Difficulttasks
wereoftendiscussedcollectivelytoensurethecorrectnessoftheannotation. Theannotationrequired
theannotatortoundertakethefullexecutionandscrutinizetheintermediatestates.
HumanPerformance Wesampleonetaskfromeachofthe170tem-
Avg.Time 110s
platesandaskfivecomputersciencegraduatestudentstoperformthese
SuccessRate 74.68%
tasks. The human performance is on the right. Overall, the human info
SuccessRate 81.32%
annotators complete 78.24% of the tasks, with lower performance on others
SuccessRate 78.24%
all
information-seekingtasks. Throughexaminingtherecordedtrajectories,
wefoundthat50%ofthefailuresareduetomisinterpretingtheintent(e.g.,providingtraveldistance
whenaskedfortraveltime),incompleteanswers(e.g.,providingonlynamewhenaskedfornameand
email),andincompleteexecutions(e.g.,partiallyfillingtheproductinformation),whiletheremaining
instanceshavemoreseverefailures,wheretheexecutionsareoff-target.
4 BASELINE WEB AGENTS
We experiment with three LLMs using two prompting strategies, both with two examples in the
context. In the first setting, we ask the LLM to directly predict the next action given the current
observation,theintentandthepreviouslyperformedaction. Inthesecondsetting,withthesame
information,themodelfirstperformschain-of-thoughtreasoningstepsinthetextbeforetheaction
prediction(CoT,Weietal.(2022);Yaoetal.(2022b)). Beforetheexamples,weprovideadetailed
7
Underreview
overviewofthebrowserenvironment,theallowedactions,andmanyrules. Tomakethemodelaware
oftheunachievabletasks,theinstructionexplicitlyaskstheagenttostopifitbelievesthetaskis
impossibletoperform. WerefertothisdirectiveasUnachievablehint,orUAhint. Thisintroduction
islargelyidenticaltotheguidelineswepresentedtohumanannotatorstoensureafaircomparison.
WeuseanaccessibilitytreewithelementIDsastheobservationspace. Theagentcanidentifywhich
elementtointeractwithbytheIDoftheelement. Forinstance,theagentcanissueclick [1582]
toclickthe“AddtoCart”buttonwiththeIDof1582. ThefullpromptscanbefoundinAppendix
A.7. ThedetailedconfigurationsofeachmodelcanbefoundinAppendixA.5.
5 RESULTS
5.1 MAINRESULTS
The main results are shown on the top of
CoTUAHint Model SR SR SR
AC UA
Table2. GPT-4 (OpenAI,2023)withCoT
promptingachievesamodestend-to-endtask ✓ ✓ TEXT-BISON-001 5.05 4.00 27.78
success rate of 11.70%, which is signifi- ✗ ✓ GPT-3.5 6.41 4.90 38.89
cantly lower than the human performance ✓ ✓ GPT-3.5 8.75 6.44 58.33
✓ ✓ GPT-4 11.70 8.63 77.78
of78.24%. GPT-3.5 (OpenAI,2022)with
CoTpromptingisonlyabletosuccessfully ✗ ✗ GPT-3.5 5.10 4.90 8.33
perform 8.75% of the tasks. The explicit ✓ ✗ GPT-3.5 6.16 6.06 8.33
reasoningprocedureissomewhathelpful,it ✓ ✗ GPT-4 14.41 13.02 44.44
brings2.34%improvementovertheversion - ✓ Human 78.24 77.30 100.00
withoutit. Further,TEXT-BISON-001(Anil
etal.,2023)underperforms GPT-3.5,with Table2: Theend-to-endtasksuccessrate(SR%)on
asuccessrateof5.05%. Theseresultsunder- WebArenawithdifferentpromptingstrategies. CoT:
linetheinherentchallengesandcomplexities themodelperformsstep-by-stepreasoningbeforeis-
of executing tasks that span long horizons, suingtheaction.UAhint:askthemodeltostopwhen
particularlyinrealisticenvironmentssuchas encounteringunachievablequestions.
WebArena.
5.2 ANALYSIS
Domodelsknowwhentostop? Inourerroranalysisoftheexecutiontrajectories,weobserve
a prevalent error pattern of early stopping due to the model’s conclusion of unachievability. For
instance,GPT-4erroneouslyidentifies54.9%offeasibletasksasimpossible. Thisissueprimarily
stemsfromtheUAhintintheinstruction,whilethishintallowsmodelstoidentifyunachievable
tasks,italsohindersperformanceonachievabletasks. Toaddressthis,weconductanablationstudy
whereweremovethishint. Wethenbreakdownthesuccessrateforbothachievableandunachievable
tasks. AsshowninTable2,eliminatingthisinstructionledtoaperformanceboostinachievable
tasks,enhancingtheoveralltasksuccessrateof GPT-4 to14.41%. Despiteanoveralldeclinein
identifyingunachievabletasks,GPT-4retainsthecapacitytorecognize44.44%ofsuchtasks. Itdoes
sobygeneratingreasonsofnon-achievability,evenwithoutexplicitinstructions. Ontheotherhand,
GPT-3.5rarelyexhibitsthislevelofreasoning. Instead,ittendstofollowproblematicpatternssuch
ashallucinatingincorrectanswers,repeatinginvalidactions,orexceedingthesteplimits. Thisresult
suggeststhatevensubtledifferencesininstructiondesigncansignificantlyinfluencethebehaviorof
amodelinperforminginteractivetasksincomplexenvironments.
Can a model maintain consistent performance across similar
25
tasks? Tasksthatoriginatefromthesametemplateusuallyfollow gpt-3.5-direct
similarreasoningandplanningprocesses,eventhoughtheirobserva- 20 gpt-3.5-cot
gpt-4-cot
tionsandexecutionswilldiffer. Weplotahistogramofper-template 15
successratesforourmodelsinTable3. Ofthe61templates,GPT-4
10
managestoachievea100%tasksuccessrateononlyfourtemplates,
while GPT-3.5 failstoachievefulltaskcompletionforanyofthe 5
templates. Inmanycases,themodelsareonlyabletocompleteone 0
0.1 0.2 0.3 0.4 0.5 0.6 0.8 1.0
taskvariationwithatemplate. Theseobservationsindicatethateven Success rate (%) within a template
when tasks are derived from the same template, they can present Table3: Distributionofsuc-
cessratesontemplateswith
≥1successfulexecutionson
8 GPTmodels(noUAhint).
etalpmeT
#
Underreview
Dynamic Realistic Diverse Functional
Benchmark
Interaction? Environment? HumanTasks? Correctness?
Mind2Web (Dengetal.,2023) ✗ ✓ ✓ ✗
Form/QAWoB(Shietal.,2017) ✗ ✓ ✓ ✗
MiniWoB++ (Liuetal.,2018) ✓ ✗ ✗ ✓
Webshop (Yaoetal.,2022a) ✓ ✗ ✗ ✓
ALFRED (Shridharetal.,2020) ✓ ✗ ✗ ✓
VirtualHome (Puigetal.,2018) ✗ ✗ ✓ ✗
AndroidEnv (Toyamaetal.,2021) ✓ ✓ ✗ ✗
WebArena ✓ ✓ ✓ ✓
Table4: Thecomparisonbetweenourbenchmarkandexistingbenchmarksongroundingnatural
languageinstructionstoconcreteexecutions. Ourbenchmarkisimplementedinourfullyinteractable
highly-realistic environment. Itfeaturesdiversetaskshumansmayencounterintheirdailyroutines.
Wedesignevaluationmetricstoassessthefunctionalcorrectnessoftaskexecutions.
distinctchallenges. Forinstance,while“Forkmetaseq”canbeastraightforwardtask,“Forkallrepos
fromFacebook”derivedfromthesametemplaterequiresmorerepetitiveoperations,henceincreasing
itscomplexity. Therefore,WebArenaprovideatestbedtoevaluatemoresophisticatedmethods. In
particular,thosethatincorporatememorycomponents,enablingthereuseofsuccessfulstrategies
frompastexperimentsZhouetal.(2022a);Wangetal.(2023). Moreerroranalysiswithexamples
canbefoundinAppendixA.8.
6 RELATED WORK
BenchmarksforControllingAgentsthroughNaturalLanguage Controllingagentsvianatural
languageinthedigitalworldhavebeenstudiedintheliterature(Branavanetal.,2009;Shietal.,2017;
Liuetal.,2018;Toyamaetal.,2021;Dengetal.,2023;Lietal.,2020;Xuetal.,2021). However,
thebalancebetweenfunctionality,authenticity,andsupportforenvironmentaldynamicsremainsa
challenge. Existingbenchmarksoftencompromisetheseaspects,asshowninTable4. Someworks
relyonstaticstates,limitingagents’explorationsandfunctionalcorrectnessevaluation(Shietal.,
2017;Dengetal.,2023),whileotherssimplifyreal-worldcomplexities,restrictingtaskvariety(Yao
etal.,2022a;Liuetal.,2018).WhileAndroidEnv(Toyamaetal.,2021)replicatesanAndroidsetup,it
doesnotevaluatecomplexandrealistictasks. Thisgapisalsoseeninsyntheticenvironments(Kolve
etal.,2017;Shridharetal.,2020;Puigetal.,2018)andextendstogamingenvironments(Fanetal.,
2022;Küttleretal.,2020),wheretheenvironmentmechanismsoftendivergefromhumanobjectives.
InteractiveDecision-MakingAgents Nakanoetal.(2021)introduceWebGPTwhichsearches
thewebandreadsthesearchresultstoanswerquestions. Guretal.(2023)proposeawebagent
thatdecomposestasksintomoremanageablesub-tasksandsynthesizesJavascriptcodeforthetask
executions. Addingamulti-modaldimension,Leeetal.(2023)andShawetal.(2023)developagents
thatpredictactionsbasedonscreenshotsofwebpagesratherthanrelyingonthetext-basedDOM
trees. Performingtasksininteractiveenvironmentsrequirestheagentstoexhibitseveralcapabilities
includinghierarchical planning, statetracking, anderror recovery. Existingworks (Huanget al.,
2022;Madaanetal.,2022;Lietal.,2023)observeLLMscouldbreakataskintomoremanageable
sub-tasks(Zhouetal.,2022b). Thisprocesscanbefurtherrefinedbyrepresentingtaskexecutionsas
programs,atechniquethataidssub-taskmanagementandskillreuse(Zhouetal.,2022a;Liangetal.,
2023;Wangetal.,2023;Gaoetal.,2023). Meanwhile,searchandbacktrackingmethodsintroducea
morestructuredapproachtoplanningwhilealsoallowingfordecisionreconsideration(Yaoetal.,
2023;Long,2023). Existingworksalsoincorporatefailurerecovery,self-correction(Shinnetal.,
2023; Kim et al., 2023), observation summarization (Sridhar et al., 2023) to improve execution
robustness. ThecomplexityofWebArenapresentsauniquechallengeandopportunityforfurther
testingandimprovementofthesemethods.
9
Underreview
7 CONCLUSION
WepresentWebArena,ahighly-realistic,standalone,andreproduciblewebenvironmentdesigned
forthedevelopmentandtestingofautonomousagents. WebArenaincludesfullyfunctionalweb
applicationsandgenuinedatafromfourmajorcategories,providingarealisticplatformforagent
interaction. Itfurthersupportsawiderangeoftoolsandexternalknowledgebases,fosteringafocus
onhuman-likeproblem-solving. Additionally, wecurateacomprehensivebenchmarkconsisting
of 812 examples that focus on translating high-level natural language intents into specific web
interactions. Wealsooffermetricstoprogrammaticallyascertainwhethertaskshavebeencompleted
accordingtothedesiredobjectives. OurexperimentsshowthatevenGPT-4onlyachievesalimited
end-to-end task success rate of 14.41%, significantly lagging behind the human performance of
78.24%. Thesefindingsunderscoretheneedforfutureresearchtofocusonenhancingtherobustness
andefficacyofautonomousagentswithinWebArenaenvironment.
ACKNOWLEDGEMENT
We would like to thank Emmy Liu, Zhiruo Wang, Zhitong Guo for examining our annotations,
Shunyu Yao for providing the raw Amazon product data in Webshop, Pengfei Liu, Zaid Sheikh
andAmanMadaanforthehelpfuldiscussions. WearealsogratefultotheCenterforAISafetyfor
providingcomputationalresources. Thismaterialispartlybasedonresearchsponsoredinpartbythe
AirForceResearchLaboratoryunderagreementnumberFA8750-19-2-0200. TheU.S.Government
isauthorizedtoreproduceanddistributereprintsforGovernmentalpurposesnotwithstandingany
copyrightnotationthereon. Theviewsandconclusionscontainedhereinarethoseoftheauthors
andshouldnotbeinterpretedasnecessarilyrepresentingtheofficialpoliciesorendorsements,either
expressedorimplied,oftheAirForceResearchLaboratoryortheU.S.Government. Thisproject
wasalsopartiallysupportedbyagiftfromAWSAI.
REFERENCES
Peter Anderson, Qi Wu, Damien Teney, Jake Bruce, Mark Johnson, Niko Sünderhauf, Ian D.
Reid, Stephen Gould, and Anton van den Hengel. Vision-and-language navigation: Interpret-
ingvisually-groundednavigationinstructionsinrealenvironments. In2018IEEEConference
on Computer Vision and Pattern Recognition, CVPR 2018, Salt Lake City, UT, USA, June 18-
22, 2018, pp. 3674–3683. IEEE Computer Society, 2018. doi: 10.1109/CVPR.2018.00387.
URLhttp://openaccess.thecvf.com/content_cvpr_2018/html/Anderson_
Vision-and-Language_Navigation_Interpreting_CVPR_2018_paper.html.
RohanAnil, AndrewM.Dai, OrhanFirat, MelvinJohnson, DmitryLepikhin, AlexandrePassos,
Siamak Shakeri, Emanuel Taropa, Paige Bailey, Zhifeng Chen, Eric Chu, Jonathan H. Clark,
LaurentElShafey,YanpingHuang,KathyMeier-Hellstern,GauravMishra,EricaMoreira,Mark
Omernick,KevinRobinson,SebastianRuder,YiTay,KefanXiao,YuanzhongXu,YujingZhang,
GustavoHernandezAbrego,JunwhanAhn,JacobAustin,PaulBarham,JanBotha,JamesBradbury,
SiddharthaBrahma,KevinBrooks,MicheleCatasta,YongCheng,ColinCherry,ChristopherA.
Choquette-Choo,AakankshaChowdhery,ClémentCrepy,ShachiDave,MostafaDehghani,Sunipa
Dev, Jacob Devlin, Mark Díaz, Nan Du, Ethan Dyer, Vlad Feinberg, Fangxiaoyu Feng, Vlad
Fienber, Markus Freitag, Xavier Garcia, Sebastian Gehrmann, Lucas Gonzalez, Guy Gur-Ari,
StevenHand,HadiHashemi,LeHou,JoshuaHowland,AndreaHu,JeffreyHui,JeremyHurwitz,
MichaelIsard,AbeIttycheriah,MatthewJagielski,WenhaoJia,KathleenKenealy,MaximKrikun,
SnehaKudugunta,ChangLan,KatherineLee,BenjaminLee,EricLi,MusicLi,WeiLi,YaGuang
Li, Jian Li, Hyeontaek Lim, Hanzhao Lin, Zhongtao Liu, Frederick Liu, Marcello Maggioni,
Aroma Mahendru, Joshua Maynez, Vedant Misra, Maysam Moussalem, Zachary Nado, John
Nham, EricNi, AndrewNystrom, AliciaParrish, MariePellat, MartinPolacek, AlexPolozov,
ReinerPope,SiyuanQiao,EmilyReif,BryanRichter,ParkerRiley,AlexCastroRos,AurkoRoy,
BrennanSaeta,RajkumarSamuel,ReneeShelby,AmbroseSlone,DanielSmilkov,DavidR.So,
DanielSohn,SimonTokumine,DashaValter,VijayVasudevan,KiranVodrahalli,XuezhiWang,
PidongWang,ZiruiWang,TaoWang,JohnWieting,YuhuaiWu,KelvinXu,YunhanXu,Linting
Xue,PengchengYin,JiahuiYu,QiaoZhang,StevenZheng,CeZheng,WeikangZhou,Denny
Zhou,SlavPetrov,andYonghuiWu. Palm2technicalreport,2023.
10
Underreview
YonatanBisk,JanBuys,KarlPichotta,andYejinChoi. Benchmarkinghierarchicalscriptknowledge.
In Proceedings of the 2019 Conference of the North American Chapter of the Association for
ComputationalLinguistics: HumanLanguageTechnologies,Volume1(LongandShortPapers),
pp.4077–4085,Minneapolis,Minnesota,2019.AssociationforComputationalLinguistics. doi:
10.18653/v1/N19-1412. URLhttps://aclanthology.org/N19-1412.
S.R.K.Branavan,HarrChen,LukeZettlemoyer,andReginaBarzilay. Reinforcementlearningfor
mappinginstructionstoactions.InProceedingsoftheJointConferenceofthe47thAnnualMeeting
oftheACLandthe4thInternationalJointConferenceonNaturalLanguageProcessingofthe
AFNLP,pp.82–90,Suntec,Singapore,2009.AssociationforComputationalLinguistics. URL
https://aclanthology.org/P09-1010.
GregBrockman,VickiCheung,LudwigPettersson,JonasSchneider,JohnSchulman,JieTang,and
WojciechZaremba. Openaigym,2016. URLhttps://arxiv.org/abs/1606.01540.
MarkChen,JerryTworek,HeewooJun,QimingYuan,HenriquePonde,JaredKaplan,HarriEdwards,
YuraBurda,NicholasJoseph,GregBrockman,etal. Evaluatinglargelanguagemodelstrained
on code. ArXiv preprint, abs/2107.03374, 2021. URL https://arxiv.org/abs/2107.
03374.
Xiang Deng, Yu Gu, Boyuan Zheng, Shijie Chen, Samuel Stevens, Boshi Wang, Huan Sun, and
YuSu. Mind2web: Towardsageneralistagentfortheweb,2023.
LinxiFan,GuanzhiWang,YunfanJiang,AjayMandlekar,YuncongYang,HaoyiZhu,AndrewTang,
De-AnHuang,YukeZhu,andAnimaAnandkumar. Minedojo: Buildingopen-endedembodied
agentswithinternet-scaleknowledge.InThirty-sixthConferenceonNeuralInformationProcessing
SystemsDatasetsandBenchmarksTrack,2022. URLhttps://openreview.net/forum?
id=rc8o_j8I8PX.
LuyuGao,AmanMadaan,ShuyanZhou,UriAlon,PengfeiLiu,YimingYang,JamieCallan,and
GrahamNeubig. Pal: Program-aidedlanguagemodels. InInternationalConferenceonMachine
Learning,pp.10764–10799.PMLR,2023.
Daniel Gordon, Aniruddha Kembhavi, Mohammad Rastegari, Joseph Redmon, Dieter Fox, and
Ali Farhadi. IQA: visual question answering in interactive environments. In 2018 IEEE
Conference on Computer Vision and Pattern Recognition, CVPR 2018, Salt Lake City, UT,
USA, June 18-22, 2018, pp. 4089–4098. IEEE Computer Society, 2018. doi: 10.1109/CVPR.
2018.00430. URLhttp://openaccess.thecvf.com/content_cvpr_2018/html/
Gordon_IQA_Visual_Question_CVPR_2018_paper.html.
Izzeddin Gur, Hiroki Furuta, Austin Huang, Mustafa Safdari, Yutaka Matsuo, Douglas Eck, and
AleksandraFaust. Areal-worldwebagentwithplanning,longcontextunderstanding,andprogram
synthesis. arXivpreprintarXiv:2307.12856,2023.
Wenlong Huang, Pieter Abbeel, Deepak Pathak, and Igor Mordatch. Language models as zero-
shotplanners: Extractingactionableknowledgeforembodiedagents. InKamalikaChaudhuri,
StefanieJegelka,LeSong,CsabaSzepesvári,GangNiu,andSivanSabato(eds.),International
Conference on Machine Learning, ICML 2022, 17-23 July 2022, Baltimore, Maryland, USA,
volume162ofProceedingsofMachineLearningResearch,pp.9118–9147.PMLR,2022. URL
https://proceedings.mlr.press/v162/huang22a.html.
Yacine Jernite, Kavya Srinet, Jonathan Gray, and Arthur Szlam. CraftAssist Instruction Parsing:
SemanticParsingforaMinecraftAssistant. ArXivpreprint,abs/1905.01978,2019. URLhttps:
//arxiv.org/abs/1905.01978.
GeunwooKim, PierreBaldi, andStephenMcAleer. Languagemodelscansolvecomputertasks.
ArXivpreprint,abs/2303.17491,2023. URLhttps://arxiv.org/abs/2303.17491.
EricKolve,RoozbehMottaghi,WinsonHan,EliVanderBilt,LucaWeihs,AlvaroHerrasti,Daniel
Gordon,YukeZhu,AbhinavGupta,andAliFarhadi. AI2-THOR:AnInteractive3DEnvironment
forVisualAI. arXiv,2017.
11
Underreview
Heinrich Küttler, Nantas Nardelli, Alexander H. Miller, Roberta Raileanu, Marco Selvatici,
Edward Grefenstette, and Tim Rocktäschel. The nethack learning environment. In
Hugo Larochelle, Marc’Aurelio Ranzato, Raia Hadsell, Maria-Florina Balcan, and Hsuan-
Tien Lin (eds.), Advances in Neural Information Processing Systems 33: Annual Con-
ference on Neural Information Processing Systems 2020, NeurIPS 2020, December 6-12,
2020,virtual,2020. URLhttps://proceedings.neurips.cc/paper/2020/hash/
569ff987c643b4bedf504efda8f786c2-Abstract.html.
Tom Kwiatkowski, Jennimaria Palomaki, Olivia Redfield, Michael Collins, Ankur Parikh, Chris
Alberti,DanielleEpstein,IlliaPolosukhin,JacobDevlin,KentonLee,KristinaToutanova,Llion
Jones,MatthewKelcey,Ming-WeiChang,AndrewM.Dai,JakobUszkoreit,QuocLe,andSlav
Petrov. Naturalquestions: Abenchmarkforquestionansweringresearch. Transactionsofthe
AssociationforComputationalLinguistics,7:452–466,2019. doi: 10.1162/tacl_a_00276. URL
https://aclanthology.org/Q19-1026.
YannLeCun. Apathtowardsautonomousmachineintelligenceversion0.9.2,2022-06-27. Open
Review,62,2022.
KentonLee,MandarJoshi,IuliaRalucaTurc,HexiangHu,FangyuLiu,JulianMartinEisenschlos,
UrvashiKhandelwal,PeterShaw,Ming-WeiChang,andKristinaToutanova.Pix2struct:Screenshot
parsingaspretrainingforvisuallanguageunderstanding. InInternationalConferenceonMachine
Learning,pp.18893–18912.PMLR,2023.
Xinze Li, Yixin Cao, Muhao Chen, and Aixin Sun. Take a break in the middle: Investigating
subgoals towards hierarchical script generation. ArXiv preprint, abs/2305.10907, 2023. URL
https://arxiv.org/abs/2305.10907.
Yang Li, Jiacong He, Xin Zhou, Yuan Zhang, and Jason Baldridge. Mapping natural lan-
guage instructions to mobile UI action sequences. In Proceedings of the 58th Annual Meet-
ing of the Association for Computational Linguistics, pp. 8198–8210, Online, 2020. Asso-
ciation for Computational Linguistics. doi: 10.18653/v1/2020.acl-main.729. URL https:
//aclanthology.org/2020.acl-main.729.
JackyLiang,WenlongHuang,FeiXia,PengXu,KarolHausman,BrianIchter,PeteFlorence,and
AndyZeng. Codeaspolicies: Languagemodelprogramsforembodiedcontrol. In2023IEEE
InternationalConferenceonRoboticsandAutomation(ICRA),pp.9493–9500.IEEE,2023.
EvanZheranLiu, KelvinGuu, PanupongPasupat, TianlinShi, andPercyLiang. Reinforcement
learningonwebinterfacesusingworkflow-guidedexploration. In6thInternationalConferenceon
LearningRepresentations,ICLR2018,Vancouver,BC,Canada,April30-May3,2018,Conference
TrackProceedings.OpenReview.net,2018. URLhttps://openreview.net/forum?id=
ryTp3f-0-.
JieyiLong. Largelanguagemodelguidedtree-of-thought. ArXivpreprint,abs/2305.08291,2023.
URLhttps://arxiv.org/abs/2305.08291.
AmanMadaan,ShuyanZhou,UriAlon,YimingYang,andGrahamNeubig. Languagemodelsof
codearefew-shotcommonsenselearners. InProceedingsofthe2022ConferenceonEmpirical
MethodsinNaturalLanguageProcessing, pp.1384–1403, AbuDhabi, UnitedArabEmirates,
2022. Association for Computational Linguistics. URL https://aclanthology.org/
2022.emnlp-main.90.
DipendraKMisra,JaeyongSung,KevinLee,andAshutoshSaxena. Tellmedave: Context-sensitive
groundingofnaturallanguagetomanipulationinstructions. TheInternationalJournalofRobotics
Research,35(1-3):281–300,2016.
ReiichiroNakano,JacobHilton,SuchirBalaji,JeffWu,LongOuyang,ChristinaKim,Christopher
Hesse, Shantanu Jain, Vineet Kosaraju, William Saunders, et al. Webgpt: Browser-assisted
question-answeringwithhumanfeedback. arXivpreprintarXiv:2112.09332,2021.
OpenAI. Chatgpt: Optimizinglanguagemodelsfordialogue. 2022.
OpenAI. Gpt-4technicalreport. arXiv,pp.2303–08774,2023.
12
Underreview
LongOuyang,JeffreyWu,XuJiang,DiogoAlmeida,CarrollWainwright,PamelaMishkin,Chong
Zhang,SandhiniAgarwal,KatarinaSlama,AlexRay,etal. Traininglanguagemodelstofollow
instructions with human feedback. Advances in Neural Information Processing Systems, 35:
27730–27744,2022.
Xavier Puig, Kevin Ra, Marko Boben, Jiaman Li, Tingwu Wang, Sanja Fidler, and Antonio
Torralba. Virtualhome: Simulating household activities via programs. In 2018 IEEE Con-
ference on Computer Vision and Pattern Recognition, CVPR 2018, Salt Lake City, UT, USA,
June 18-22, 2018, pp. 8494–8502. IEEE Computer Society, 2018. doi: 10.1109/CVPR.
2018.00886. URLhttp://openaccess.thecvf.com/content_cvpr_2018/html/
Puig_VirtualHome_Simulating_Household_CVPR_2018_paper.html.
PranavRajpurkar,JianZhang,KonstantinLopyrev,andPercyLiang.SQuAD:100,000+questionsfor
machinecomprehensionoftext. InProceedingsofthe2016ConferenceonEmpiricalMethodsin
NaturalLanguageProcessing,pp.2383–2392,Austin,Texas,2016.AssociationforComputational
Linguistics. doi: 10.18653/v1/D16-1264. URLhttps://aclanthology.org/D16-1264.
PranavRajpurkar,RobinJia,andPercyLiang. Knowwhatyoudon’tknow: Unanswerablequestions
forSQuAD. InProceedingsofthe56thAnnualMeetingoftheAssociationforComputational
Linguistics (Volume 2: Short Papers), pp. 784–789, Melbourne, Australia, 2018. Association
forComputationalLinguistics. doi: 10.18653/v1/P18-2124. URLhttps://aclanthology.
org/P18-2124.
PeterShaw,MandarJoshi,JamesCohan,JonathanBerant,PanupongPasupat,HexiangHu,Urvashi
Khandelwal,KentonLee,andKristinaToutanova. Frompixelstouiactions: Learningtofollow
instructionsviagraphicaluserinterfaces. arXivpreprintarXiv:2306.00245,2023.
Tianlin Shi, Andrej Karpathy, Linxi Fan, Jonathan Hernandez, and Percy Liang. World of bits:
An open-domain platform for web-based agents. In Doina Precup and Yee Whye Teh (eds.),
Proceedingsofthe34thInternationalConferenceonMachineLearning,ICML2017,Sydney,NSW,
Australia,6-11August2017,volume70ofProceedingsofMachineLearningResearch,pp.3135–
3144.PMLR,2017. URLhttp://proceedings.mlr.press/v70/shi17a.html.
NoahShinn,BeckLabash,andAshwinGopinath. Reflexion: anautonomousagentwithdynamic
memory and self-reflection. ArXiv preprint, abs/2303.11366, 2023. URL https://arxiv.
org/abs/2303.11366.
MohitShridhar,JesseThomason,DanielGordon,YonatanBisk,WinsonHan,RoozbehMottaghi,
LukeZettlemoyer,andDieterFox. ALFRED:Abenchmarkforinterpretinggroundedinstructions
foreverydaytasks. In2020IEEE/CVFConferenceonComputerVisionandPatternRecognition,
CVPR 2020, Seattle, WA, USA, June 13-19, 2020, pp. 10737–10746. IEEE, 2020. doi: 10.
1109/CVPR42600.2020.01075. URL https://doi.org/10.1109/CVPR42600.2020.
01075.
MohitShridhar,XingdiYuan,Marc-AlexandreCôté,YonatanBisk,AdamTrischler,andMatthewJ.
Hausknecht. Alfworld: Aligning text and embodied environments for interactive learning. In
9thInternationalConferenceonLearningRepresentations,ICLR2021,VirtualEvent,Austria,
May 3-7, 2021. OpenReview.net, 2021. URL https://openreview.net/forum?id=
0IOX0YcCdTn.
AbishekSridhar,RobertLo,FrankFXu,HaoZhu,andShuyanZhou. Hierarchicalpromptingassists
largelanguagemodelonwebnavigation. arXivpreprintarXiv:2305.14257,2023.
DanielToyama,PhilippeHamel,AnitaGergely,GheorgheComanici,AmeliaGlaese,ZafaraliAhmed,
TylerJackson,ShiblMourad,andDoinaPrecup. Androidenv: Areinforcementlearningplatform
forandroid. ArXivpreprint,abs/2105.13231,2021. URLhttps://arxiv.org/abs/2105.
13231.
GuanzhiWang,YuqiXie,YunfanJiang,AjayMandlekar,ChaoweiXiao,YukeZhu,LinxiFan,and
AnimaAnandkumar. Voyager: Anopen-endedembodiedagentwithlargelanguagemodels. ArXiv
preprint,abs/2305.16291,2023. URLhttps://arxiv.org/abs/2305.16291.
13
Underreview
Zhiruo Wang, Shuyan Zhou, Daniel Fried, and Graham Neubig. Execution-based evaluation for
open-domaincodegeneration. ArXivpreprint,abs/2212.10481,2022. URLhttps://arxiv.
org/abs/2212.10481.
JasonWei,XuezhiWang,DaleSchuurmans,MaartenBosma,FeiXia,EdChi,QuocVLe,Denny
Zhou,etal. Chain-of-thoughtpromptingelicitsreasoninginlargelanguagemodels. Advancesin
NeuralInformationProcessingSystems,35:24824–24837,2022.
NancyXu,SamMasling,MichaelDu,GiovanniCampagna,LarryHeck,JamesLanday,andMonica
Lam. Groundingopen-domaininstructionstoautomatewebsupporttasks. InProceedingsofthe
2021ConferenceoftheNorthAmericanChapteroftheAssociationforComputationalLinguistics:
HumanLanguageTechnologies,pp.1022–1032,Online,2021.AssociationforComputational
Linguistics. doi: 10.18653/v1/2021.naacl-main.80. URLhttps://aclanthology.org/
2021.naacl-main.80.
Zhilin Yang, Peng Qi, Saizheng Zhang, Yoshua Bengio, William Cohen, Ruslan Salakhutdinov,
andChristopherD.Manning. HotpotQA:Adatasetfordiverse,explainablemulti-hopquestion
answering. InProceedingsofthe2018ConferenceonEmpiricalMethodsinNaturalLanguage
Processing,pp.2369–2380,Brussels,Belgium,2018.AssociationforComputationalLinguistics.
doi: 10.18653/v1/D18-1259. URLhttps://aclanthology.org/D18-1259.
Shunyu Yao, Howard Chen, John Yang, and Karthik Narasimhan. Webshop: Towards scalable
real-worldwebinteractionwithgroundedlanguageagents. volumeabs/2207.01206,2022a. URL
https://arxiv.org/abs/2207.01206.
ShunyuYao,JeffreyZhao,DianYu,NanDu,IzhakShafran,KarthikNarasimhan,andYuanCao.
React: Synergizingreasoningandactinginlanguagemodels. ArXivpreprint,abs/2210.03629,
2022b. URLhttps://arxiv.org/abs/2210.03629.
Shunyu Yao, Dian Yu, Jeffrey Zhao, Izhak Shafran, Thomas L Griffiths, Yuan Cao, and Karthik
Narasimhan. Treeofthoughts: Deliberateproblemsolvingwithlargelanguagemodels. ArXiv
preprint,abs/2305.10601,2023. URLhttps://arxiv.org/abs/2305.10601.
VictorZhong,CaimingXiong,andRichardSocher. Seq2sql: Generatingstructuredqueriesfrom
naturallanguageusingreinforcementlearning.arxiv2017. ArXivpreprint,abs/1709.00103,2017.
URLhttps://arxiv.org/abs/1709.00103.
ShuyanZhou,PengchengYin,andGrahamNeubig. Hierarchicalcontrolofsituatedagentsthrough
naturallanguage. InProceedingsoftheWorkshoponStructuredandUnstructuredKnowledge
Integration(SUKI),pp.67–84,Seattle,USA,2022a.AssociationforComputationalLinguistics.
doi: 10.18653/v1/2022.suki-1.8. URLhttps://aclanthology.org/2022.suki-1.8.
ShuyanZhou,LiZhang,YueYang,QingLyu,PengchengYin,ChrisCallison-Burch,andGraham
Neubig. Showmemoredetails: Discoveringhierarchiesofproceduresfromsemi-structuredweb
data. InProceedingsofthe60thAnnualMeetingoftheAssociationforComputationalLinguistics
(Volume1: LongPapers),pp.2998–3012,Dublin,Ireland,2022b.AssociationforComputational
Linguistics. doi: 10.18653/v1/2022.acl-long.214. URL https://aclanthology.org/
2022.acl-long.214.
14
Underreview
A APPENDIX
A.1 WEBSITEIMPLEMENTATION
Giventheselectedwebsitesdescribedin§2.2,wemakethebestattempttoreproducethefunctionality
ofcommonlyusedsitesinareproducibleway. Toachievethis,weutilizedopen-sourceframeworks
forthedevelopmentofthewebsitesacrossvariouscategoriesandimporteddatafromtheirreal-world
counterparts. FortheE-commercecategory,weconstructedashoppingwebsitewithapproximately
90k products, including the prices, options, detailed product descriptions, images, and reviews,
spanningover300productcategories. ThiswebsiteisdevelopedusingAdobeMagento,anopen-
sourcee-commerceplatform4. Dataresourceswereobtainedfromdatafromactualonlinesites,such
asthatincludedintheWebshopdatadumpYaoetal.(2022a). Asforthesocialforumplatform,we
deployedanopen-sourcesoftwarePostmill5,theopen-sourcedcounterpartofReddit6. Wesampled
from the top 50 subreddits7. We then manually selected many subreddit for northeast US cities
aswellassubredditformachinelearninganddeeplearning-relatedtopics. Thismanualselection
encourages cross-website tasks such as seeking information related to the northeast US on both
Reddit and the map. In total, we have 95 subreddits, 127390 posts, and 661781 users. For the
collaborativesoftwaredevelopmentplatform,wechooseGitLab8. Weheuristicallysimulatethecode
repositorycharacteristicsbysamplingatleasttenrepositoriesforeveryprogramminglanguage: 80%
ofthemaresampledfromthesetoftop90percentilewrtstarsreposusingadiscreteprobability
distribution weighted proportional to their number of stars; the remaining are sampled from the
bottomtenpercentilesetusingsimilarweighteddistribution.Thisisdonetoensurefairrepresentation
ofreposofallkinds,frompopularprojectswithmanyissuesandpullrequeststosmallpersonal
projects. Intotal,wehave300repositoriesandmorethan1000accountswithatleastonecommit
toarepository. Forthecontentmanagementsystem,weadaptedAdobeMagento’sadminportal,
deployingthesampledataprovidedintheofficialguide.WeemployOpenStreetMap9formapservice
implementation,confiningourfocustothenortheastUSregionduetodatastorageconstraints. We
implementacalculatorandascratchpadourselves.
Lastly, weconfiguretheknowledgeresourcesasindividualwebsites, complementedwithsearch
functionalityforefficientinformationretrieval. Specifically,weutilizeKiwix10 tohostanoffline
versionofEnglishWikipediawithaknowledgecutoffofMay2023. TheusermanualsforGitLab
andAdobeCommerceMerchantdocumentationarescrapedfromtheofficialwebsites.
A.2 ENVIRONMENTDELIVERYANDRESET
Onegoalforourevaluationenvironmentiseaseofuseandreproducibility. Asaresult,wedeployour
websitesinseparateDockerimages11,oneperwebsite. TheDockerimagesarefullyself-contained
withallthecodeofthewebsite,database,aswellasanyothersoftwaredependencies. Theyalso
donotrelyonexternalvolumemountstofunction,asthedataofthewebsitesarealsopartofthe
dockerimage. Thisway,theimageiseasytodistributioncontainingallthepre-populatedwebsites
forreproducibleevaluation. EnduserscandownloadourpackagedDockerimagesandrunthemon
theirsystemsandre-deploytheexactwebsitestogetherwiththedatausedinourbenchmarksfor
theirlocalbenchmarking.
Since some evaluation cases may require the agent to modify the data contained in the website,
e.g., creating a new user, deleting a post, etc., it is crucial to be able to easily reset the website
environmenttoitsinitialstate. WithDockerimages,theuserscouldstopanddeletethecurrently
runningcontainersforthatwebsiteandstartthecontainerfromouroriginalimageagaintofully
resettheenvironmenttotheinitialstate. Dependingonthewebsite,thisprocessmaytakefroma
fewsecondstooneminute. However,notallevaluationcaseswouldrequireanenvironmentreset,as
4https://github.com/magento/magento2
5https://postmill.xyz/
6https://www.reddit.com/
7https://redditlist.com/sfw.html
8https://gitlab.com/gitlab-org/gitlab
9https://www.openstreetmap.org/
10https://www.kiwix.org/en/
11https://www.docker.com/
15
Underreview
Map
CMS
13.4%
22.4%
E-commerce
23.0%
5.9%
Cross Site
13.1% 22.2%
Reddit
Gitlab
Figure6: Theintentdistributionacrossdifferentwebsites. Cross-siteintentsnecessitateinteracting
withmultiplewebsites. Notably,regardlessofthewebsite,alluserintentsrequireinteractionswith
multiplewebpages.
manyoftheintentsareinformationgatheringandareread-onlyforthewebsitedata. Also,combined
withtheinferencetimecostfortheagentLLMs,wearguethatthisenvironmentresetmethod,through
restartingDockercontainersfromtheoriginalimages,willhaveanon-negligiblebutsmallimpacton
evaluationtime.
A.3 USERROLESSIMULATION
Usersofthesamewebsiteoftenhavedisparateexperiencesduetotheirdistinctroles,permissions,
andinteractionhistories. Forinstance,withinanE-commerceCMS,ashopownermightpossess
fullreadandwritepermissionsacrossallcontent,whereasanemployeemightonlybegrantedwrite
permissionsforproductsbutnotforcustomerdata. Weaimtoemulatethisscenariobygenerating
uniqueuserprofilesoneachplatform.
Ontheshoppingsite,wecreatedacustomerprofilethathasover35orderswithinaspanoftwoyears.
OnGitLab,weselectedauserwhomaintainsseveralpopularopen-sourceprojectswithnumerous
merge requests and issues. This user also manages a handful of personal projects privately. On
Reddit,ourchosenprofilewasauserwhoactivelyparticipatesindiscussions,withmanypostsand
comments. Lastly,onourE-commerceCMS,wesetupauserprofileforashopownerwhohasfull
read-and-writeaccesstoallsystemcontents.
All users are automatically logged into their accounts using a pre-cached cookie. To our best
knowledge, this is the first publicly available agent evaluation environment to implement such a
characteristic. Existingliteraturetypicallyoperatesundertheassumptionofuniversallyidenticaluser
rolesShietal.(2017);Liuetal.(2018);Dengetal.(2023).
A.4 INTENTDISTRIBUTION
ThedistributionofintentsacrossthewebsitesareshowninFigure6.
A.5 EXPERIMENTCONFIGURATIONS
We experiment with GPT-3.5-TURBO-16K-0613, GPT-4-0613, and TEXT-BISON-001 with a
temperatureof1.0andatop-pparameterof0.9. Themaximumnumberofstatetransitionsissetto
30. Wehaltexecutionifthesameactionisrepeatedmorethanthreetimesonthesameobservation
or if the agent generates three consecutive invalid actions. These situations typically indicate a
highlikelihoodofexecutionfailureandhencewarrantearlytermination. ForTEXT-BISON-001,we
additionallyallowtenretriesuntilitgeneratesavalidaction.
Primarily, we use a high temperature of 1.0 to encourage the exploration. To aid replicating the
results,weprovidetheresultsofGPT-3.5-TURBO-16K-0613withtemperature0.0inTable5and
theexecutiontrajectoriesinourcoderepository.
16
Underreview
CoTUAHint Model SR
✓ ✗ GPT-3.5 6.28
Table5: Thetasksuccessrate(SR%)ofGPT-3.5-TURBO-16K-0613withtemperature0.0.
A.6 PROMPTFOR FUZZY_MATCH
Helpateachertogradetheanswerofastudentgivenaquestion. Keepinmindthatthestudentmay
usedifferentphrasingorwordingtoanswerthequestion. Thegoalistoevaluatewhethertheanswer
issemanticallyequivalenttothereferenceanswer.
question: {{intent}}
referenceanswer: {{referenceanswer}}
allthestring’N/A’thatyouseeisaspecialsequencethatmeans’notachievable’
studentanswer: {{prediction}}
Concludethejudgementbycorrect/incorrect/partiallycorrect.
Predictionsthatarejudgedas“correct”willreceiveascoreofone,whileallotherpredictionswill
receiveascoreofzero.
A.7 THEPROMPTSOFTHEBASELINEWEBAGENTS
ThesystemmessageofthereasoningagentforbothGPT-3.5and GPT-4 isinFigure7,andtwo
examplesareinFigure8. ThesystemmessageofthedirectagentforGPT-3.5isinFigure9and
thetwoexamplesareinFigure10. UAhintreferstotheinstructionof“Ifyoubelievethetaskis
impossibletocomplete,providetheansweras"N/A"inthebracket.”. Weremovethissentenceinour
ablationstudies.
A.8 ADDITIONALERRORANALYSIS
ObservationBias Realisticwebsitesfrequentlypresentinformationonsimilartopicsacrossvarious
sectionstoensureoptimaluseraccessibility. However,aGPT-4agentoftendemonstratesatendency
to latch onto the first related piece of information it encounters without sufficiently verifying its
relevanceoraccuracy. Forinstance,thehomepageoftheE-CommerceCMSdisplaysthebest-selling
itemsbasedonrecentpurchases,whilehistoricalbest-sellerdataistypicallyaccessedviaaseparate
report. Presentedwiththetaskof“Whatisthetop-1best-sellingproductin2022”,theGPT-4agent
defaultstoleveragingthereadilyavailableinformationonthehomepage,bypassingthenecessary
stepofgeneratingthereporttoobtaintheaccuratedata.
FailuresinObservationInterpretation Interestingly,whileGPT-4iscapableofsummarizingthe
observations,itoccasionallyoverlooksmoregranularinformation,suchasthepreviouslyentered
input. As in the right-hand example of Figure 11, [5172] StaticText indicates that the
searchterm“DMVarea”hasalreadybeenentered. However,theagentdisregardsthisdetailand
continuouslyissuesthecommandtype [2430] [DMV area]untilitreachesthemaximum
steplimit. Furthermore,theagentoftenneglectsthepreviousactioninformationthatisprovided
alongsidetheobservation.
We hypothesize that these observed failures are related to the current pretraining and supervised
fine-tuningondialoguesemployedinGPTmodelsOuyangetal.(2022). Thesemodelsareprimarily
trainedtoexecuteinstructionsgivenimmediateobservations(i.e.,, thedialoguehistory); thereby,
theymayexhibitalackofexplorations. Furthermore,indialoguescenarios,subtledifferencesin
NLexpressionsoftenhavelessimpactontheoverallconversation. Asaresult,modelsmaytendto
overlookminorvariationsintheirobservations.
17
Underreview
Youareanautonomousintelligentagenttaskedwithnavigatingawebbrowser. Youwillbegiven
web-basedtasks. Thesetaskswillbeaccomplishedthroughtheuseofspecificactionsyoucanissue.
Here’stheinformationyou’llhave:
Theuser’sobjective: Thisisthetaskyou’retryingtocomplete.
Thecurrentwebpage’saccessibilitytree:Thisisasimplifiedrepresentationofthewebpage,providing
keyinformation.
Thecurrentwebpage’sURL:Thisisthepageyou’recurrentlynavigating.
Theopentabs: Thesearethetabsyouhaveopen.
Thepreviousaction: Thisistheactionyoujustperformed. Itmaybehelpfultotrackyourprogress.
Theactionsyoucanperformfallintoseveralcategories:
PageOperationActions
`click[id]`: Thisactionclicksonanelementwithaspecificidonthewebpage.
`type[id][content][press_enter_after=0|1]`: Usethistotypethecontentintothefieldwithid. By
default,the"Enter"keyispressedaftertypingunlesspress_enter_afterissetto0.
`hover[id]`: Hoveroveranelementwithid.
`press[key_comb]`: Simulatesthepressingofakeycombinationonthekeyboard(e.g.,Ctrl+v).
`scroll[direction=down|up]`: Scrollthepageupordown.
TabManagementActions:
`new_tab`: Openanew,emptybrowsertab.
`tab_focus[tab_index]`: Switchthebrowser’sfocustoaspecifictabusingitsindex.
`close_tab`: Closethecurrentlyactivetab.
URLNavigationActions:
`goto[url]`: NavigatetoaspecificURL.
`go_back`: Navigatetothepreviouslyviewedpage.
`go_forward`: Navigatetothenextpage(ifaprevious
`go_back`actionwasperformed).
CompletionAction:
`stop[answer]`: Issuethisactionwhenyoubelievethetaskiscomplete. Iftheobjectiveistofind
a text-based answer, provide the answer in the bracket. If you believe the task is impossible to
complete,providetheansweras"N/A"inthebracket.
Homepage:
Ifyouwanttovisitotherwebsites,checkoutthehomepageathttp://homepage.com. Ithasalistof
websitesyoucanvisit.
http://homepage.com/password.htmllistsalltheaccountnamesandpasswordsforthewebsites. You
canusethemtologintothewebsites.
Tobesuccessful,itisveryimportanttofollowthefollowingrules:
1. Youshouldonlyissueanactionthatisvalidgiventhecurrentobservation
2. Youshouldonlyissueoneactionatatime.
3. Youshouldfollowtheexamplestoreasonstepbystepandthenissuethenextaction.
4. Generatetheactioninthecorrectformat. Startwitha"Insummary,thenextactionIwillperform
is“phrase,followedbyactioninside``````. Forexample,"Insummary, thenextactionIwill
performis```click[1234]```”.
5. Issuestopactionwhenyouthinkyouhaveachievedtheobjective. Don’tgenerateanythingafter
stop."""
Figure7: Thesystemmessageofthereasoningagent. Thismessagehasageneralexplanationof
thetask,theavailableactions,andsomenotesonavoidingcommonfailures.
18
Underreview
example_user
OBSERVATION:
[1744]link’HPCB782A#ABA640InkjetFaxMachine(Renewed)’
[1749]StaticText’$279.49’
[1757]button’AddtoCart’
[1760]button’AddtoWishList’
[1761]button’AddtoCompare’
URL:http://onestopmarket.com/office-products/office-electronics.html
OBJECTIVE:WhatisthepriceofHPInkjetFaxMachine
PREVIOUSACTION:None
example_assistant
Let’sthinkstep-by-step. ThispageliststheinformationofHPInkjetFaxMachine, whichisthe
product identified in the objective. Its price is $279.49. I think I have achieved the objective. I
willissuethestopactionwiththeanswer. Insummary,thenextactionIwillperformis```stop
[$279.49]```
example_user
OBSERVATION:
[164]textbox’Search’focused: Truerequired: False
[171]button’Go’
[174]link’Finddirectionsbetweentwopoints’
[212]heading’SearchResults’
[216]button’Close’
URL:http://openstreetmap.org
OBJECTIVE:ShowmetherestaurantsnearABC
PREVIOUSACTION:None
example_assistant
Let’sthinkstep-by-step. ThispagehasasearchboxwhoseIDis[164]. Accordingtothenominatim
rule of openstreetmap, I can search for the restaurants near a location by ¨restaurants near. I can
¨
submitmytypingbypressingtheEnterafterwards. Insummary,thenextactionIwillperformis
```type[164][restaurantsnearABC][1]```
Figure 8: The two examples provided as example_user and example_assistant for the
reasoningagent. Beforeissuingtheaction,theagentfirstperformreasoning.
19
Underreview
Youareanautonomousintelligentagenttaskedwithnavigatingawebbrowser. Youwillbegiven
web-basedtasks. Thesetaskswillbeaccomplishedthroughtheuseofspecificactionsyoucanissue.
Here’stheinformationyou’llhave:
Theuser’sobjective: Thisisthetaskyou’retryingtocomplete.
Thecurrentwebpage’saccessibilitytree:Thisisasimplifiedrepresentationofthewebpage,providing
keyinformation.
Thecurrentwebpage’sURL:Thisisthepageyou’recurrentlynavigating.
Theopentabs: Thesearethetabsyouhaveopen.
Thepreviousaction: Thisistheactionyoujustperformed. Itmaybehelpfultotrackyourprogress.
Theactionsyoucanperformfallintoseveralcategories:
PageOperationActions
`click[id]`: Thisactionclicksonanelementwithaspecificidonthewebpage.
`type[id][content][press_enter_after=0|1]`: Usethistotypethecontentintothefieldwithid. By
default,the"Enter"keyispressedaftertypingunlesspress_enter_afterissetto0.
`hover[id]`: Hoveroveranelementwithid.
`press[key_comb]`: Simulatesthepressingofakeycombinationonthekeyboard(e.g.,Ctrl+v).
`scroll[direction=down|up]`: Scrollthepageupordown.
TabManagementActions:
`new_tab`: Openanew,emptybrowsertab.
`tab_focus[tab_index]`: Switchthebrowser’sfocustoaspecifictabusingitsindex.
`close_tab`: Closethecurrentlyactivetab.
URLNavigationActions:
`goto[url]`: NavigatetoaspecificURL.
`go_back`: Navigatetothepreviouslyviewedpage.
`go_forward`: Navigatetothenextpage(ifaprevious
`go_back`actionwasperformed).
CompletionAction:
`stop[answer]`: Issuethisactionwhenyoubelievethetaskiscomplete. Iftheobjectiveistofind
a text-based answer, provide the answer in the bracket. If you believe the task is impossible to
complete,providetheansweras"N/A"inthebracket.
Homepage:
Ifyouwanttovisitotherwebsites,checkoutthehomepageathttp://homepage.com. Ithasalistof
websitesyoucanvisit.
http://homepage.com/password.htmllistsalltheaccountnameandpasswordforthewebsites. You
canusethemtologintothewebsites.
Tobesuccessful,itisveryimportanttofollowthefollowingrules:
Tobesuccessful,itisveryimportanttofollowthefollowingrules:
1. Youshouldonlyissueanactionthatisvalidgiventhecurrentobservation
2. Youshouldonlyissueoneactionatatime.
3. Generatetheactioninthecorrectformat. Alwaysputtheactioninsideapairof```. Forexample,
```click[1234]```
4. Issuestopactionwhenyouthinkyouhaveachievedtheobjective. Don’tgenerateanythingafter
stop."""
Figure9: Thesystemmessageofthedirectagent. Thismessagehasthegeneralexplanationofthe
task,theavailableactionsandsomenotesonavoidingcommonfailures.
20
Underreview
example_user
OBSERVATION:
[1744]link’HPCB782A#ABA640InkjetFaxMachine(Renewed)’
[1749]StaticText’$279.49’
[1757]button’AddtoCart’
[1760]button’AddtoWishList’
[1761]button’AddtoCompare’
URL:http://onestopmarket.com/office-products/office-electronics.html
OBJECTIVE:WhatisthepriceofHPInkjetFaxMachine
PREVIOUSACTION:None
example_assistant
```stop[$279.49]```
example_user
OBSERVATION:
[164]textbox’Search’focused: Truerequired: False
[171]button’Go’
[174]link’Finddirectionsbetweentwopoints’
[212]heading’SearchResults’
[216]button’Close’
URL:http://openstreetmap.org
OBJECTIVE:ShowmetherestaurantsnearABC
PREVIOUSACTION:None
example_assistant
```type[164][restaurantsnearABC][1]```
Figure10: Thetwoexamplesprovidedasexample_userandexample_assistantforthe
directagent. Theagentdirectlyemitsthenextactiongiventheobservation.
[2430] searchbox 'Search query'
[5172] StaticText 'DMV area'
[2361] link 'Projects 0'
[2365] link 'Users 1'
[2070] heading " We couldn't
find any projects matching
Facebook"
Figure 11: Two examples where the GPT-4 agent failed, along with their screenshot and the
accessibilitytreeoftherelevantsections(grey). Ontheleft,theagentfailstoproceedtothe“Users”
sectiontoaccomplishthetaskof“ForkallFacebookrepos”;ontheright,theagentrepeatsentering
thesamesearchqueryeventhoughtheobservationindicatestheinputboxisfilled.
21

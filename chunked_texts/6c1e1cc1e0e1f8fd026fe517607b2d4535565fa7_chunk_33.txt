.8% to 59%. Note that the ablation where structured outputs are completely
removedinfavorofpurelytextexplanationsispreciselytheCOTsetting,whichachievesasolverateof63%. Theseresults
underscoretheimportanceoftextbutmoreimportantlyshowthatcombiningbothtextandproceduralstatementsleadsto
higherperformancegainsâ€”eitherissub-optimal.
B.AdditionalanalysisonArithmeticReasoning
GSM-hardwithhardprompts TheGSM-HARDexperimentsusedpromptsthatweresampledfromtheGSM8Ktraining
set. WillCOTbehelpedbyusinglargernumbersinthepromptsaswell? Toinvestigatethis,wecreatepromptswherethe
numbersarechangedtolargernumbers,matchingthedistributionofnumbersinGSM-HARD. TheresultsinTable5shows
PAL:Program-aidedLanguageModels 14
thatevenwithapromptthatmatchesthenumbers,thereareonlymodestgainsinperformance. Theseresultsshowthatthe
gainsachievedbyusingcode-basedreasoningchainsmaynotbeachievedsimplybyusingbetterfew-shotexamplesfor
COT.
RegularPrompt PromptwithLargerNumbers
COT 23.3 23.8
Table5: GSM-hardresults,whenthepromptsalsohadexamplesoflargernumbers.
SuccinctCode Theprogramsusedinfew-shotexamplesbyPALaremulti-step,andshowastep-by-stepbreakdownof
thereasoningprocess. Isthisbreakdownnecessary? Alternatively,canwereturnasinglelineexpression(seeFigure11b)to
calculatetheresult? ResultsinTable6(4throw)showsthatisnotthecase. Withsingle-lineexpressions,theperformanceof
PALfallstothelevelofdirectprompting.
Generatingtheanswerdirectly PALfirstgeneratesareasoningchainintheformofaPythonprogram,andpassesthe
generatedprogramtoaruntimetoobtainananswer. IsPALbetteronlybecauseoftheprogram-styleintermediatereasoning
chains,oraretheimprovementsderivedfromoffloadingexecutiontothePythonruntime? Toinvestigatethis
19samples,whichisprohibitivelyexpensivetoperformmanualre-calculation.
Instead, we leverage PAL to assist obtaining the correct answers. For 71% of the examples where PAL is correct on
GSM8K,weutilizethegeneratedprogramandreplacetheinitialvaluewiththelargervalues. Forexample,ifwecreate
a harder version of the problem in Figure 3 by replacing $23 dollars with $15687 dollars, we correspondingly replace
money initial=23 to money initial=15678. Running the program could automatically produce the correct
answeroftheharderquestion. Notably,thisannotationprocessassumesthataprogramthatproducesacorrectanswerto
aGSM8Kquestionindicatesthecorrectnessoftheprogramitself. Whilethisisnotguaranteedduetopossiblespurious
correlations,wemanuallychecked25programsandfoundallofthemarecorrect. Fortheincorrect29%ofthecases,we
runPALagainandperformnucleussampling(Holtzmanetal.,2019)withtemperature0.7,andrepeattheaboveprocessif
anycorrectsolutionisfound. Finally,theauthorsmanuallyannotatethecorrectanswerfor50remainingcasesthatPALwas
notabletosolveafter100iterations.
H.2.GSM-HARDAnalysis
Table11showsthoughtsgeneratedwithCOTonGSM8KandGSM-HARD. Amanualanalysisrevealsthatamajorityofthe
generatedthoughts(16/25)wereidenticalforGSM8KandGSM-HARD,indicatingthatlargernumbersprimarilydiminish
performanceduetofailureofLLMtodoarithmetic..
PAL:Program-aidedLanguageModels 24
I.GeneralizationofPALtoLeast-to-MostPrompting
Q: Four years ago, Kody was only half as old as Mohamed. If Mohamed is currently
(cid:44)→ twice 30 years old, how old is Kody?
A: To answer the question "How old is Kody?", we need to know: "How old is Mohamed?",
(cid:44)→ "How old was Mohamed four years ago?", "How old was Kody four
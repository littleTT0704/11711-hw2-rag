 have sufficient number of pairs of corresponding points in simulation
andrealworld,wecansolveforabyleastsquaresa=(ZT Z )−1ZT Y. Theheighty is
hw hw hw sim sim
chosenfromalook-uptablebasedony. OncewecomputethetransformationA,westoreitfor
hw
latertoprocessarbitrarycoordinatesfromrealtosim,asshownbelow.
def get_simulation_coordinates(xyz_hw: List[float], A: np.array) -> List:
xz_hw = [xyz_hw[0], xyz_hw[2]]
X_hw = get_homogenous_coordinates(xz_hw)
X_sim_homo = np.matmul(A, X_hw)
y_sim = process_height(xyz_hw[1])
X_sim = [X_sim_homo[0]/X_sim_homo[2], y_sim, X_sim_homo[1]/X_sim_homo[2]]
return X_sim
Theobjectsusedinsimulationtrainingaredifferentfromhardwareobjects,eventhoughtheybelong
tothesamecategories. Forexample,whilebothsimandrealhaveasmallplate,thesizesofthese
platesaredifferent. Wecanestimatethesizeoftheobjectsbasedonactualboundingboxfromthe
segmentationpipeline. However,itissignificantlyout-of-distributionfromthetrainingdata,dueto
objectmismatch. So,wemapeachdetectedobjecttothenearestmatchingobjectinsimulationand
usethesimulationsizeastheinputtothepolicy. Thisisnon-ideal, astheplacingmightdifferfor
simversusrealobjects. Inthefuture,wewouldliketotrainwithrichvariationsofobjectbounding
boxsizeinsimulationsothatthepolicycangeneralizetounseenobjectshapesintherealworld.
15
Figure11: Humandemonstrationwithpointandclickinsimulation
B SimulationSetup
Dataset “ReplicaSyntheticApartment0Kitchen”consistsofafully-interactivedish
uation,andthesmalleroneisfor
selectinghyperparameters. Werepeattheentireexperiment
4.Experiments
twiceusingdifferentseedstoreducetherandomness.Finally,
we report the mean over these repetitions as well as their
Datasets. Weconsiderthefollowingfourdatasets: Ro-
estimatedstandarderror.
tatedMNIST[25],PACS[45],VLCS[74]andWILDS[41]
Model selection. The model selection in domain gen-
toevaluateDDGagainstpreviousmethods. Weincludethe
eralizationisintrinsicallyalearningproblem, andweuse
visualizationofdatasetsinAppendixC.2.
test-domainvalidation,oneofthethreeselectionmethods
RotatedMNIST[25]consistsof10,000digitsinMNIST
in [27]. This strategy is an oracle-selection one since we
with different rotated angles d such that each domain is
choosethemodelmaximizingtheaccuracyonavalidation
determinedbythedegreed∈{0,15,30,45,60,75}.
setthatfollowsthesamedistributionofthetestdomain.
PACS[45]includes9,991imageswith7classesy ∈{
Model architectures. Following [27], we use as en-
dog,elephant,giraffe,guitar,horse,house,person}from4
codersConvNetforRotatedMNIST(detailedinAppdendix
domainsd∈{art,cartoons,photos,sketches}.
D.1in[27])andResNet-50fortheremainingdatasets.
VLCS [74] is composed of 10,729 images, 5 classes
MotivatedbytheobservationthatGANisabletoimprove
y ∈ {bird, car, chair, dog, person} from domains d ∈
imagequalityforevaluatingthedisentanglementeffectsin
{Caltech101,LabelMe,SUN09,VOC2007}.
the latent spaces [57, 69, 70], we use adversarial training
Camelyon17-WILDS[11,41]isabouttumordetection
[26
 the proxies of classes repre-
sentedintheminibatch.Inordertobeabletoalsoupdatethese
proxies classes, we include a Mask Proxy Regulator (MPR),
L = 1 (cid:88) log(1+ (cid:88) e−α(s(x,p)−δ)) which minimizes the distance between these proxies and the
Anchor |P |
+ p∈P+ x∈Xp+ centroid for their class, while maximizing their separation to
(2) othercentroids:
+ 1 (cid:88) log(1+ (cid:88) eα(s(x,p)+δ))
|P| 1 (cid:88) es(cLi,pi)
HereP
representsthp∈ eP proxyset,x P∈ +Xp r−
epresentsthesetofprox-
l 2 =− |L M|
Li∈LMcL
,Li
pi=Lilog( Lj(cid:80) (cid:54)=Lies(cLj,pi)) (7)
iesforallclassesrepresentedintheminibatch,X+denotesthe
p
setofallinstances(fromtheminibatch)belongingtothesame MaskProxylosscanbedefinedastheweightedsummationof
classasproxyp,andX−denotessetofinstancesnotfromthe Equations6and7:
p
sameclassasp.αisascalingfactor,δisamarginandsrefers
l =l +λ l (8)
tocosinesimilarity. mp 1 mp 2
Note that neither Proxy NCA nor Proxy Anchor invoke
whereλ isbalancingfactor,whichissetto0.5inthispaper.
actual entity-to-entity distances, thus not leveraging the fine- mp
graineddistance/similarityrelationswithinaminibatch.
3.2. MultinomialMaskedProxy(MMP)
3. ProposedMaskedProxyMethods Multinomial-based loss functions can leverage both multi-
similarityamongpairs[14]andhardnessofpositivepairs[1]as
3.1. MaskedProxy(MP
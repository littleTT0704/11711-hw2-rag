byuptoabsolute6.9%exactmatch. Wereleaseournewbenchmarks,includingannotation
oforacledocumentsforeachexampleandpoolsofdocumentation,toserveasatest-bedforfuture
retrieval-basedcodegenerationmodels.
2 CODE GENERATION BY READING THE DOCS
Ourunderlyingassumptionisthatcodedocumentationisthemostexhaustiveyetsuccinctresource
formostlibrariesandprogramminglanguages(Roehmetal.,2012),andthatdocumentationallows
toeffectivelygeneralizetounseenlibrariesandfunctions(ForwardandLethbridge,2002). Wefollow
theretrieve-then-generateparadigm(Lewisetal.,2020;Guuetal.,2020),focusingonretrieving
documentation. Inthissection,wedescribethegeneralapproachofDocPrompting;in§3and§6.2,
weelaborateandexperimentwithpracticalimplementationsofDocPrompting.
FormulationGivenNLintentn,ourgoalistogenerateacorrespondingcodesnippetcwrittenin
someprogramminglanguage(PL)suchasPython. Weassumethatamodelhasaccesstoacollection
ofcodedocumentationD. Eachdocumentd ∈Ddescribestheusageofalibrary,afunction,oran
i
2
PublishedasaconferencepaperatICLR2023
argumentinthatPL.TheconstructionofDisflexible: itcaneitherbeacomprehensivesetofall
availablelibrariesandfunctionsinaPL,oracustomizedsubsetforthescopeofaspecificproject.
2.1 BACKGROUND: RETRIEVAL-CONDITIONEDGENERATION
AlthoughamodelmayusetheentirecollectionofdocumentsD,onlyafewdocumentsinD are
relevantforanyparticularintent. Further,itisusuallycomputationallyinfeasibletodirectlycondition
ontheentire,unbounded,collectionofdocumentswhilemakingpredictions. Thus,wefirstletthe
modelselectasubsetofdocumentsD ={d,d,..,d }⊆Dthatarepotentiallyrelevantgivenn,
n 1 2 k
andrefertothissubsetwhilegeneratingc.
 the number of generations in the
dataset, f¯ is the mean CodeBERTScore of the F DistinguishingCodewithDifferent
dataset, and f¯∗ is the mean similarity score cal- Semantics
culatedbythereferencemeasurement.
WestudyhowwellcanCodeBERTScoreperform
Spearman (r ) r measures the Pearson corre- as a generic similarity function that measures the
s s
lationcoefficientbetweentheranksproducedbya similarity between two arbitrary code snippets y i
metricandthereferencemeasurement: andy j.
F.1 DistinguishabilityMetric
cov(R(f(Yˆ),R(f∗(Y∗)))
r p = We evaluate CodeBERTScore using the distin-
σ σ
R(f(Yˆ)) R(f∗(Y∗))
guishability metric d proposed by Eghbali and
where R returns the ranks of code snippets in a Pradel(2022)whichiscalculatedasfollows:
collection of code snippets Y. cov(·,·) is the co- (cid:80)
f(y,y )
variance of two variables and σ(·) is the standard d = yi,yj∈Pairsintra i j (7)
(cid:80)
f(y,y )
deviation. yi,yj∈Pairsinter i j
wherePair definesasetofcodepairsfromthe
D StandardDeviation intra
samesemanticallyequivalentclusters,andPair
inter
Table 3 shows the same results as in Table 1, but definesasetofcodepairsfromtwoclustersofdif-
withstandarddeviations. Table4showstheresults ferentfunctionality. Formally,
fromTable2,withstandarddeviations.
Pair ={(y,y ) | ∃k suchthaty,y ∈ C }
intra i j i j k
E Robustnesstoadversarial Pair ={(y,y ) | ∃k suchthaty ∈ C,y ∈/ C }
inter i j i k j k
perturbations
where C is the k-th cluster with semantically

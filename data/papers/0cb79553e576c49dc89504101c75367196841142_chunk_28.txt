. baseandexpertAE-LMsG,G+,andG−,respec-
tively,conditionedonthepreviouslygeneratedto-
C ExampleRewrites
kensg,theoriginalsequencew,andthemasked
<i
variantwm toobtainthenext-tokenprobability:
Table 10 shows example generations from each
methodacrossallthreedatasets.
P(X |g,w,wm)=softmax(z +α z+−α z−)
i <i i 1 i 2 i
D HumanEvaluationDetails
Considerasingleindexj correspondingtotoken
We use annotators from the USA and Canada on V inthesoftmaxoutput. Giventhateachofz,z+,
j i i
AmazonMechanicalTurk,whovoluntarilyopt-in and z− are log-space probability vectors over V,
i
tothetask. Ourtaskwasapprovedbyourinstitu- theexponentiationofz +α z+−α z−inthesoft-
i 1 i 2 i
tion’sethicsreviewboard(IRB).Ascreenshotof maxequationconvertsthissumbacktoaproduct
ourinterfaceforthehumanevaluationisshownin in probability space, which matches the PoE nu-
Figure3. Ourinterfacedescribeshowtheannota- meratorforV. Inaddition,thedenominatorinthe
j
tors’datawillbeused. softmaxequationtransformsthelogitsumexactly
To gather annotations, we first recruit workers tothePoEdenominatorforV j. Thus,eachproba-
to do a qualification task, where annotators must bility fromthe output distribution from MARCO
answersixquestionsonwhichrewritefromapairis exactlymatchesEquation1andisthusaPoE.
lesstoxic,thesamequestionasinourmainhuman
Original ughexamssuck:’(#thisisgayerthanaids
CondBERT ’thefinalexamsinenglishlanguage:’ (#thisisgayerthanaids
ParaGeDi ughexams-’(#thisisgayerthanaids
MARCO: ughexamssuck:’
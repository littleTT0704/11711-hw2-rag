achclass. NoadditionalidentitiesareincorporatedforContrastive,Tripletand(Angular)Prototypical. For
proxy-basedlosses,allclassesareincluded.Themaskedproxyisthetrianglesurroundedbyablackcircleandmaskedbyadashline,
showninFig. (4)(6)(8). ForMPl1loss,wecomputethedistancebetweenthequeryandallcentroidsandthedistancebetweenthe
queryandunmaskedproxies,asshowninFig.4.ForMPregulator,wecomputethedistancebetweentheproxyandallcentroidsforall
maskedproxies,asshowninFig.6.TheillustrationofMMPl1lossisalmostthesameasthatofMPl1loss,exceptthateachpositive
pairisassignedaweightwhichiscorrelatedtothedistanceofthispositivepair,whichisshownbythewidthoflinesinFig.8.
TheexpressionofMMPcanbeformulatedasfollows: LossCriterion TrainingComplexity
Triplet O(N3)
l mmp =l 1m+λ mmpl 2 (12) Semi-hardTriplet[15] O(N B23)
SmartTriplet[16] O(N2)
Wheretheregulatorl 2iskeptasitsoriginalformandλ mmpis (Angular)Prototypical[3] O(N2)*
abalancingfactor.λ mmpissetto0.5inthispaper. ProxyNCA[13] O(NP)
Acomparisonofthedifferentmetriclearningobjectivesde- ProxyAnchor[1] O(NP)
scribedinthissectionandotherstandardmetriclearningobjec- MP/MMP O(NP)
tivesisshowninFig.9.
Table1:TrainingComplexityComparison
3.3. TrainingComplexity
*Here we discuss the case where number of data
WedenoteN,B,P astrainingsize,batchsizeandproxysize pointsis2foreachclasswithinthemini-batch.
respectively. For each data point in Eq. 6, we compute dis-
tancesoverCpairs,whichgivesrisetoat
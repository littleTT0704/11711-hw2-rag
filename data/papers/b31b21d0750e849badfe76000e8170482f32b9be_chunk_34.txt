 NL intent D∗ from the original
i i
(n,c) example, we first index the function names with absolute path (e.g., plot is indexed with
matplotlib.pyplot.plot) with Elasticsearch. Then we query the search engine with clean version
ofcwherevariablenameareremoved.Thetop-5functionsafterde-duplicationaretreatedasoraclemanuals
D∗.
i
Naturallanguageandcodeassociationsduringpretraining Despiteourefforts,itispossiblethat
someoftheheld-outfunctionsinthetestsetwereseentoassociatewithNLcontexts(e.g.,comments)during
thepretrainingofaretrieverandagenerator.Sincethegeneratorswereinitializedfromthesamecheckpointin
boththebaselinesandtheDocPromptingmodels,suchapossibleassociationisexpectedtoequallyhelpboth
models.Intheretriever,suchapossibleassociationdidnotcausetheretrievertoseetheexactNLintentstogether
withthecorrespondingdocumentation,andthusthematchingbetweenNL←→docwasnotleaked.However,it
ispossiblethattherehadbeensemanticallysimilarintentsseenalongwiththecodesnippetsoftheheld-out
functions.Nevertheless,suchco-occurrenceis“indirect”and“unsupervised”.
C DENSE RETRIEVER TRAINING
Wefinetunethemodelfor10epochswithbatchsizeof512andlearningrateof1e−5.SinceCodeT5doesnot
use[CLS]token,wealternativelytaketheaverageofthehiddenstateofthelastlayerasthetextrepresentation.
ForCoNaLa,wealsousethefirst100k”mined”examplesprovidedaspartofCoNaLaasthesupervisedcorpus.
ForCoNaLa,weonlyapplyasinglesearchstepbecauseeachcodesnippetcommonlycontainsmorethanone
function.Wealsoobservedthatusingthefirstsentencethatnormallysummarizestheusageofafunctionachieve
thebestretrievalperformancethanotheralternativessuchasusingthefirstparagraph,orsimplytruncatingto
